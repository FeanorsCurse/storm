/*	
	Copyright 2009 British Broadcasting Corporation

	Licensed under the Apache License, Version 2.0 (the "License");
	you may not use this file except in compliance with the License.
	You may obtain a copy of the License at

	   http://www.apache.org/licenses/LICENSE-2.0

	Unless required by applicable law or agreed to in writing, software
	distributed under the License is distributed on an "AS IS" BASIS,
	WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	See the License for the specific language governing permissions and
	limitations under the License.
*/
/*@cc_on @*/
/*@if (@_jscript_version > 5.5)@*/
(window.gloader||glow).module({name:"glow.widgets",library:["glow","1.5.1"],depends:[["glow","1.5.1","glow.dom","glow.events"]],builder:function(d){var c,b,a=d.env;d.ready(function(){c=document;b=c.body;d._addReadyBlock("glow_widgetsCSS");var e=d.dom.create('<div class="glow151-cssTest" style="height:20px;position:absolute;visibility:hidden;top:-20px;display:block"></div>').appendTo(b);if(e.height()!=20){b.className+=" glow151-basic";}else{(function(){if(e.css("z-index")!="1234"){setTimeout(arguments.callee,10);return;}d._removeReadyBlock("glow_widgetsCSS");if(e.css("background-image").indexOf("ctr.png")==-1){b.className+=" glow151-basic";}})();}a.ie&&(b.className+=" glow151-ie");(a.ie<7||!a.standardsMode)&&(b.className+=" glow151-ielt7");a.gecko&&(b.className+=" glow151-gecko");});d.widgets={_scrollPos:function(){var f=window,e=a.standardsMode?c.documentElement:b;return{x:e.scrollLeft||f.pageXOffset||0,y:e.scrollTop||f.pageYOffset||0};}};}});(window.gloader||glow).module({name:"glow.widgets.Mask",library:["glow","1.5.1"],depends:[["glow","1.5.1","glow.dom","glow.events","glow.widgets"]],builder:function(h){var e=h.dom,f=e.get,k=h.events,g=h.widgets,c,a='<div class="glowNoMask" style="margin:0;padding:0;position:absolute;width:100%;top:0;left:0;overflow:auto;',b,i='<iframe class="glowNoMask" src="javascript:false" style="margin:0;padding:0;position:absolute;top:0;left:0;filter:alpha(opacity=0);display:none"></iframe>';function d(o){this.opts=h.lang.apply({color:"#000",opacity:0.7,zIndex:9900,disableScroll:false},o||{});var m=document.body,l=this.maskElement=e.create(a+"z-index:"+this.opts.zIndex+";background:"+this.opts.color+';visibility:hidden"></div>').appendTo(m),n=this;l.css("opacity",this.opts.opacity);if(h.env.ie<7){this._iframe=e.create(i).css("z-index",this.opts.zIndex-1).appendTo(m);}k.addListener(l,"click",function(){k.fire(n,"click");});if(this.opts.onClick){k.addListener(this,"click",o.onClick);}}d.prototype={add:function(){var v=f(document),o=f(document.body),p=f(window),q=this;if(this.opts.disableScroll&&!b){b=h.dom.create(a+'height:100%;overflow:hidden;">'+a+'"></div></div>');var t=g._scrollPos(),r=o[0].style,n=p.height(),u=p.width(),m=b.get("div"),l=o.children().filter(function(){return(" "+this.className+" ").indexOf("glowNoMask")==-1;});c={margin:[o.css("margin-top"),o.css("margin-right"),o.css("margin-bottom"),o.css("margin-left")],padding:[o.css("padding-top"),o.css("padding-right"),o.css("padding-bottom"),o.css("padding-left")],height:o.css("height")};r.margin=r.padding=0;r.height="100%";m[0].style.zIndex=this.opts.zIndex-1;b.appendTo(o);m.css("margin",c.margin.join(" ")).css("padding",c.padding.join(" ")).css("top",-t.y-parseFloat(c.margin[0])+"px").css("left",-t.x+"px").append(l);}function s(){var y=o.height();for(var w=0;w<2;w++){q.maskElement.css("width","100%").css("height",(q.opts.disableScroll?b.height():Math.max(y,p.height()))+"px");}if(h.env.ie<7){var x=q.maskElement[0].style;q._iframe.css("width",x.width).css("height",x.height);}}this.maskElement.css("visibility","visible").css("display","block");if(h.env.ie<7){this._iframe.css("display","block");}s();this._resizeListener=k.addListener(window,"resize",s);},remove:function(){this.maskElement.css("visibility","hidden").css("display","none");if(h.env.ie<7){this._iframe.css("display","none");}k.removeListener(this._resizeListener);if(this.opts.disableScroll){var l=f(document.body),m=b.children();m.children().appendTo(l);window.scroll(-parseInt(m.css("left")),-parseInt(m.css("top")));b.remove();l.css("margin",c.margin.join(" ")).css("padding",c.padding.join(" ")).css("height",c.height);delete b;b=undefined;}}};h.widgets.Mask=d;}});(window.gloader||glow).module({name:"glow.widgets.Overlay",library:["glow","1.5.1"],depends:[["glow","1.5.1","glow.dom","glow.events","glow.anim","glow.widgets","glow.widgets.Mask"]],builder:function(f){var p=f.dom,d=p.get,a=f.events,n=f.widgets,r=f.env,o=f.anim,m=f.tweens,e='<div class="glow151-overlay glowNoMask"><div class="overlay-focalPoint" tabindex="-1"></div></div>',v=0,u='<iframe class="glowNoMask" src="javascript:false" style="display:none;margin:0;padding:0;position:absolute;filter:alpha(opacity=0)"></iframe>',k=/.swf($|\?)/i,b=/<param\s+(?:[^>]*(?:name=["'?]\bwmode["'?][\s\/>]|\bvalue=["'?](?:opaque|transparent)["'?][\s\/>])[^>]*){2}/i,g=(!r.ie&&!(r.webkit<522))||(r.ie>6&&r.standardsMode);function h(y){if(y._hiddenElements[0]){return;}var x=new f.dom.NodeList(),w=y.opts.hideWhileShown,B=y.opts.hideFilter,z=0,A;if(y.opts.hideWindowedFlash){x.push(d("object, embed").filter(function(){return c.call(this,y);}));}if(w){x.push(d(w));}if(B){x=x.filter(B);}y._hiddenElements=x;for(var z=0,A=x.length;z<A;z++){x[z].__glowOverlayHideCount=(Number(x[z].__glowOverlayHideCount)||0)+1;if(x[z].__glowOverlayHideCount==1){x[z].__glowOverlayInitVis=x[z].style.visibility;x[z].style.visibility="hidden";}}}function c(w){var x=this,y;if((x.getAttribute("type")=="application/x-shockwave-flash"||k.test(x.getAttribute("data")||x.getAttribute("src")||"")||(x.getAttribute("classid")||"").toLowerCase()=="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000")&&!d(x).isWithin(w.content)){y=x.getAttribute("wmode");return(x.nodeName=="OBJECT"&&!b.test(x.innerHTML))||(x.nodeName!="OBJECT"&&y!="transparent"&&y!="opaque");}return false;}function l(x){var z=x._hiddenElements,y=0,w=z.length;for(;y<w;y++){if(--z[y].__glowOverlayHideCount==0){z[y].style.visibility=z[y].__glowOverlayInitVis;}}x._hiddenElements=[];}function q(B,E){var C=[],D=[],y=0,A=0,F=B.opts.anim,G=B.opts.mask,w=B.container,x,z=0;if(F=="fade"){w.css("opacity",(E?0:1));C[A++]=[o.css(w,0.3,{opacity:{from:(E?0:1),to:(E?1:0)}})];if(E){C[A-1][1]=function(){w.css("opacity","");};}C[A++]=[t(B,E)];}else{if(F=="roll"||F=="slide"){if(E){w.css("height","");z=w.height();w.css("height","0");}C[A++]=[function(){if(r.webkit<522&&E){w.css("display","none");setTimeout(function(){w.css("overflow","hidden").css("display","block");},0);}else{w.css("overflow","hidden");}},o.css(w,0.3,{height:{to:z}},{tween:E?m.easeOut():m.easeIn()}),function(){if(!E){w.css("visibility","hidden");}w.css("height","");w.css("overflow","");}];C[A++]=[t(B,E)];}}return new o.Timeline(C);}function t(y,x){if(!y.opts.modal){return 0;}var w=y.opts.mask,A=w.opts.opacity,z=w.maskElement;z.css("opacity",(x?0:A));return o.css(z,0.1,{opacity:{from:(x?0:A),to:(x?A:0)}});}function s(w){l(w);w.container.css("visibility","").css("display","");if(w.opts.modal){w.opts.mask.remove();}else{if(f.env.ie<7){w._iframe.css("display","none");}}a.removeListener(w._scrollEvt);a.removeListener(w._resizeEvt);}function i(C,B){B=B||{};if(B.mask){B.modal=true;}this.opts=B=f.lang.apply({modal:false,closeOnMaskClick:true,zIndex:9990,autoPosition:true,x:"50%",y:"50%",ariaRole:"",ariaProperties:{live:"polite"},hideWindowedFlash:true,focusOnShow:false,id:"glow151Overlay"+(++v)},B);if(B.modal&&!B.mask){B.mask=new f.widgets.Mask(B.zIndex?{zIndex:B.zIndex-1}:{});}var w=this.content=d(C),A=this,z=this.container=p.create(e).css("z-index",B.zIndex).attr("aria-hidden","true"),y=document.body,x;this._focalPoint=z.get("div.overlay-focalPoint");this._hiddenElements=[];z[0].id=B.id;z[0].className+=" "+(B.className||"");this.autoPosition=B.autoPosition;this.isShown=false;this.returnTo=B.returnTo;this._blockActions=false;z.append(w).appendTo(y);if(B.closeOnMaskClick&&B.mask){a.addListener(B.mask,"click",function(){A.hide();});}if(f.env.ie<7&&!B.modal){this._iframe=p.create(u).css("z-index",B.zIndex-1).appendTo(y);}if(B.ariaRole){z.attr("role",B.ariaRole);}for(x in B.ariaProperties){z.attr("aria-"+x,B.ariaProperties[x]);}}i.prototype={setPosition:function(J,H){var z=this.container;if(this.autoPosition){if(J!==undefined&&!(J.source)){this.opts.x=J;this.opts.y=H;}var E=d(window),J=this.opts.x,H=this.opts.y,K=parseFloat(this.opts.x),F=parseFloat(this.opts.y),w=this._blockScrollRepos,B=g&&(!w.x)&&(!w.y),G=((this.opts.mask&&this.opts.mask.opts.disableScroll)||B)?{x:0,y:0}:n._scrollPos(),A,C,I,L;B&&z.css("position","fixed");if(typeof J=="string"&&J.indexOf("%")!=-1){A=E.width();I=z[0].offsetWidth;if(I>A){if(!w.x){z.css("left",n._scrollPos().x+"px").css("position","absolute");w.x=true;}else{if(this.opts.modal&&d(document).width()<I){this.opts.mask.maskElement.css("width",I+"px");}}}else{w.x=false;z.css("left",Math.max(((A-I)*(K/100))+G.x,G.x)+"px");}}else{z.css("left",K+G.x+"px");}if(typeof H=="string"&&H.indexOf("%")!=-1){C=E.height();L=z[0].offsetHeight;if(L>C){if(!w.y){z.css("top",n._scrollPos().y+"px").css("position","absolute");w.y=true;}else{if(this.opts.modal&&d(document).height()<L){this.opts.mask.maskElement.css("height",L+"px");}}}else{w.y=false;z.css("top",Math.max(((C-L)*(F/100))+G.y,G.y)+"px");}}else{z.css("top",F+G.y+"px");}}if(f.env.ie<7&&!this.opts.modal){var D=z[0].style;this._iframe.css("top",D.top).css("left",D.left).css("width",z[0].offsetWidth+"px").css("height",z[0].offsetHeight+"px");}return this;},show:function(){var x=this,w,y=x.opts.anim;if(x._blockActions||x.isShown){return x;}if(a.fire(x,"show").defaultPrevented()){return x;}this._blockScrollRepos={x:false,y:false};h(x);x.container.css("display","block");if(x.opts.modal){x.opts.mask.add();}else{if(f.env.ie<7){x._iframe.css("display","block");}}x._scrollEvt=a.addListener(window,"scroll",x.setPosition,x);x._resizeEvt=a.addListener(window,"resize",x.setPosition,x);x.setPosition();if(typeof y=="string"){w=q(x,true);}else{if(typeof y=="function"){w=y(x,true);}else{if(y){w=y.show;}}}if(w){if(!w._overlayEvtAttached){a.addListener(w,"complete",function(){x._blockActions=false;x.isShown=true;x.container.attr("aria-hidden","false");a.fire(x,"afterShow");});w._overlayEvtAttached=true;}x._blockActions=true;w.start();x.container.css("visibility","visible");}else{x.container.css("visibility","visible");x.isShown=true;x.container.attr("aria-hidden","false");a.fire(x,"afterShow");}if(x.opts.focusOnShow){x._focalPoint[0].focus();}return x;},hide:function(){var z=this,w,A=z.opts.anim,y=y?d(z.returnTo):"",x;if(this._blockActions||!z.isShown){return z;}if(a.fire(z,"hide").defaultPrevented()){return z;}if(typeof A=="string"){w=q(z,false);}else{if(typeof A=="function"){w=A(z,false);}else{if(A){w=A.hide;}}}if(w){if(!w._overlayEvtAttached){a.addListener(w,"complete",function(){s(z);z._blockActions=false;z.isShown=false;a.fire(z,"afterHide");});w._overlayEvtAttached=true;}z._blockActions=true;w.start();}else{s(z);z.isShown=false;a.fire(z,"afterHide");}z.container.attr("aria-hidden","true");if(y[0]){x=y[0].nodeName;if(y[0].tabindex==undefined||x!="input"||x!="select"||x!="textarea"||x!="a"){y.attr("tabindex","-1");}y[0].focus();}if(f.env.ie){z.content.get("object").each(function(B){if((this.getAttribute("type")=="application/x-shockwave-flash"||k.test(this.getAttribute("data")||this.getAttribute("src")||"")||(this.getAttribute("classid")||"").toLowerCase()=="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000")){this.parentNode.insertBefore(this,this.nextSibling);}});}return z;}};f.widgets.Overlay=i;}});(window.gloader||glow).module({name:"glow.widgets.Panel",library:["glow","1.5.1"],depends:[["glow","1.5.1","glow.dom","glow.events","glow.widgets.Overlay"]],builder:function(m){var f=m.dom,g=f.get,o=m.events,k=m.widgets,a=k.Overlay,c=m.lang,h=m.env,b,n={},e=f.create('<div class="panelAccess">End of panel. <a href="#">Close Panel</a></div>');if(m.env.ie){m.ready(function(){var r=function(y){var x=0,v=y.length,w;for(;x<v;x++){if(y[x].href.indexOf("widgets/widgets")!=-1){return y[x];}else{if(y[x].imports.length&&(w=arguments.callee(y[x].imports))){return w;}}}return false;}(document.styleSheets),p=function(x,v,w){return".glow151-ie .glow151-overlay"+u[x].className+" ."+v+" {background:none;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"/images/"+u[x].path+"/"+w+".png', sizingMethod='crop');}";},u={light:{className:" .panel-light",path:"lightpanel"},dark:{className:"",path:"darkpanel"}},t=r.href.substring(0,r.href.lastIndexOf("/")),q="<style type='text/css'>";for(var s in u){q=q+p(s,"tr","ctr")+p(s,"tl","ctl")+p(s,"bl","cbl")+p(s,"br","cbr")+p(s,"infoPanel-pointerT","at")+p(s,"infoPanel-pointerR","ar")+p(s,"infoPanel-pointerB","ab")+p(s,"infoPanel-pointerL","al");}q=q+"</style>";m.dom.get("head").append(m.dom.create(q));});}function d(u){var s=u?"<div></div>":"";for(var q=1,p=arguments.length,t=[];q<p;q++){t[q-1]='<div class="'+arguments[q]+'">'+s+"</div>";}return t.join("");}function i(){this.hide();return false;}b=function(){var q=[],p=0;q[p++]='<div class="glow151-panel">';q[p++]='<div class="defaultSkin">';q[p++]=d(false,"infoPanel-pointerT","infoPanel-pointerL","infoPanel-pointerR");q[p++]='<div class="pc">';q[p++]=d(false,"tr","tl");q[p++]=d(true,"tb");q[p++]='<div class="tc">';q[p++]=d(false,"bars");q[p++]='<div class="c">';q[p++]='<a class="panel-close" href="#" title="close">X</a>';q[p++]=d(false,"panel-hd","panel-bd","panel-ft");q[p++]="</div>";q[p++]="</div>";q[p++]=d(false,"br","bl");q[p++]=d(true,"bb");q[p++]="</div>";q[p++]=d(false,"infoPanel-pointerB");q[p++]="</div>";q[p++]="</div>";return q.join("");}();function l(x,p){x=g(x);p=p||{};if(typeof p.width=="number"){p.width+="px";}if(p.template){var q=true;}p=m.lang.apply({template:b,width:"400px",modal:true,theme:"dark",ariaRole:"dialog",focusOnShow:true},p);var z=f.create(p.template),v=x.get("> .hd"),s=x.get("> .ft"),u=document.body,w=this,y,t,r=e.clone();if(!q){z.addClass("panel-"+p.theme);if(!n[p.theme]&&u.className.indexOf("glow151-basic")==-1){y=z.clone().addClass("glow151-panel-preload").appendTo(u);n[p.theme]=true;}}if(x.length>1){x.each(function(){var A=g(this);if(A.hasClass("hd")){v=A;}else{if(A.hasClass("ft")){s=A;}}});}this.header=z.get(".panel-hd");this.footer=z.get(".panel-ft");this.body=z.get(".panel-bd");if(x.isWithin(u)){z.insertBefore(x);}else{z.appendTo(u);}this.body.append(x);if(v.length){this.header.append(v);}else{if(!q){z.addClass("panel-noHeader");}}if(s.length){this.footer.append(s);}o.addListener(z.get(".panel-close"),"click",i,this);o.addListener(r.get("a"),"click",i,this);a.call(this,z,p);this.container.css("width",p.width).append(r);}c.extend(l,a);m.widgets.Panel=l;}});(window.gloader||glow).module({name:"glow.widgets.Sortable",library:["glow","1.5.1"],depends:[["glow","1.5.1","glow.dom","glow.events","glow.dragdrop","glow.widgets"]],builder:function(i){var f=i.dom.get,k=i.events,b=k.fire,a=k.addListener;function c(n){var o=n[0].offsetParent,m=parseInt(n.css("margin-top"))||0;if(i.env.ie){while(o.currentStyle.position=="static"){o=o.offsetParent;}}return n.offset().top-f(o).offset().top-m;}var d=function(n,m){this._opts=m=i.lang.apply({dropIndicatorClass:"glow-sortable-dropindicator",equaliseColumns:true,draggableOptions:{}},m||{});this.constrainDragTo=m.constrainDragTo;this.axis=m.axis;this.draggables=[];var n=this.containers=f(n),o=this.dropTargets=[];if(m.onSort){a(this,"sort",m.onSort);}n.each(function(p){o[p]=new i.dragdrop.DropTarget(this,{tolerance:"intersect",dropIndicator:"spacer",dropIndicatorClass:m.dropIndicatorClass});});this.addItems(n.children());};function e(){if(this._itemsInMotion){return false;}if(this._opts.equaliseColumns){g.call(this);}this._itemsInMotion=true;}function g(){var p=[],q=0,n,r=this.dropTargets;this.containers.each(function(s){var t=f(this);p[s]=c(t);n=p[s]+t[0].offsetHeight;if(i.env.khtml){n-=t.css("margin-top")+t.css("margin-bottom");}if(n>q){q=n;}});for(var o=0,m=this.dropTargets.length;o<m;o++){this.dropTargets[o].setLogicalBottom(q);}}function l(p){var m=p.attachedTo,n=m.element,o=m.activeTarget;this._previous=n.prev();this._parent=n.parent();if(o){o.moveToPosition(m);}}function h(o){var m=o.attachedTo,n=m.element;if(!n.prev().eq(this._previous||[])||!n.parent().eq(this._parent)){b(this,"sort");}this._itemsInMotion=false;delete this._previous;delete this._parent;}d.prototype={addItems:function(n){var o=this,m=this._opts.draggableOptions;f(n).each(function(){var p=new i.dragdrop.Draggable(this,i.lang.apply({placeholder:"none",axis:o.axis,container:o.constrainDragTo,dropTargets:o.dropTargets},m));a(p,"drag",e,o);a(p,"drop",l,o);a(p,"afterDrop",h,o);o.draggables.push(p);});}};i.widgets.Sortable=d;}});(window.gloader||glow).module({name:"glow.widgets.InfoPanel",library:["glow","1.5.1"],depends:[["glow","1.5.1","glow.dom","glow.events","glow.widgets.Panel"]],builder:function(m){var c=m.dom,e=c.get,n=m.events,l=m.widgets,b=m.lang,h=m.env,g,k=/glow151\-infoPanel\-point[TRBL]/,f={T:{x:"50%",y:"100%"},R:{x:0,y:"50%"},B:{x:"50%",y:0},L:{x:"100%",y:"50%"}};m.ready(function(){g=e(window);});function d(o,q){var t=[o.x,o.y],r=["x","y"],s=["Width","Height"],p=0;for(;p<2;p++){if(t[p].slice){t[p]=parseFloat(o[r[p]]);if(o[r[p]].slice(-1)=="%"){t[p]=q[0]["offset"+s[p]]*(t[p]/100);}}}return{x:t[0],y:t[1]};}function i(t,s){var r=l._scrollPos(),o={x:g.width(),y:g.height()},q={T:o.y-t.top-s.y+r.y,R:t.left-r.x,B:t.top-r.y,L:o.x-t.left-s.x+r.x},p=["T","R","B","L"];p.sort(function(v,u){return q[u]-q[v];});return p[0];}function a(q,p){p=p||{};if(p.template){var o=true;}p=m.lang.apply({modal:false,theme:"light",autoPosition:!!p.context,pointerRegisters:{t:{x:"50%",y:0},r:{x:"100%",y:"50%"},b:{x:"50%",y:"100%"},l:{x:0,y:"50%"}},ariaRole:"description",returnTo:p.context},p);p.context=p.context&&e(p.context);l.Panel.call(this,q,p);p.context&&p.context.attr("aria-describedby",this.container[0].id);if(!o){this.content.addClass("glow151-infoPanel");}this.content.addClass("glow151-infoPanel-point"+(p.pointerPosition||"t").slice(0,1).toUpperCase());}b.extend(a,l.Panel);b.apply(a.prototype,{setPosition:function(v,t){var w=(v!==undefined&&!(v.source)),I=!this.container[0].offsetHeight;if(!(this.autoPosition||w)){return this;}else{if(w){this.autoPosition=false;}}if(I){this.container.css("display","block");}var B=this.opts,q=this.content[0],C=(B.pointerPosition||"").slice(0,1),o=B.context,A=this.container,p,u=w?{left:v,top:t}:o.offset(),z=w?{x:0,y:0}:{x:o[0].offsetWidth,y:o[0].offsetHeight},D,E,s,H=A.offset(),G,F;if(!C){C=i(u,z);if(F!=C){F=C;q.className=q.className.replace(k,"glow151-infoPanel-point"+C);p=A.get(".infoPanel-pointer"+C);}}else{C=C.toUpperCase();}if(!p){p=A.get(".infoPanel-pointer"+C);}D=w?{x:0,y:0}:d(B.offsetInContext||f[C],o);s=d(B.pointerRegisters[C.toLowerCase()],p);G=p.offset();E={left:G.left-H.left+s.x,top:G.top-H.top+s.y};if(I){this.container.css("display","none");}A.css("left",u.left+D.x-E.left+"px").css("top",u.top+D.y-E.top+"px");if(h.ie<7&&!B.modal){var r=A[0].style;this._iframe.css("top",r.top).css("left",r.left).css("width",A[0].offsetWidth+"px").css("height",A[0].offsetHeight+"px");}return this;},setContext:function(p){var o=this.opts.context;if(o){o.removeAttr("describedby");if(e(this.returnTo)[0]==o[0]){this.returnTo=p;}}this.opts.context=e(p).attr("describedby",this.container[0].id);if(!this.returnTo){this.returnTo=this.opts.context;}this.autoPosition=true;if(this.container[0].style.display=="block"){this.setPosition();}return this;}});m.widgets.InfoPanel=a;}});(window.gloader||glow).module({name:"glow.widgets.Slider",library:["glow","1.5.1"],depends:[["glow","1.5.1","glow.dom","glow.events","glow.dragdrop","glow.anim","glow.widgets"]],builder:function(o){var k=o.dom.get,c=o.events,E=o.env,B,z,u=["slideStart","slideStop","change"],y=null,A,e,p=navigator.platform.slice(0,3),m=[{containerClassNamePart:"slider",length:"width",lengthUpper:"Width",pos:"left",trackToChange:"_trackOnElm",axis:"x",keyIncrement:"RIGHT",keyDecrement:"LEFT",pagePos:"pageX"},{containerClassNamePart:"vSlider",length:"height",lengthUpper:"Height",pos:"top",trackToChange:"_trackOffElm",axis:"y",keyIncrement:"UP",keyDecrement:"DOWN",pagePos:"pageY"}],g='<div class="slider-theme"><div class="slider-state"><div class="slider-container"><div class="slider-btn-bk"></div><div class="slider-track"><div class="slider-trackOn"></div><div class="slider-trackOff"></div><div class="slider-handle"></div></div><div class="slider-labels"></div><div class="slider-btn-fwd"></div></div></div></div>';function q(){return false;}function d(){var H=0,G=arguments.length,I,F;while(!(I=arguments[H++])&&(H<G)){}for(;H<G;H++){F=arguments[H];if(!F){continue;}while(1){I=I%F;if(!I){I=F;break;}F=F%I;if(!F){break;}}}return I;}(function(){var F=[{containerClassNamePart:"ruler",length:"width",pos:"left"},{containerClassNamePart:"vRuler",length:"height",pos:"top"}];B=function(H,G){H=k(H);G=o.lang.apply({size:300,min:0,max:100},G);var M=F[!!G.vertical*1],V=o.dom.create('<div class="ruler-tickMajor"></div>'),N=o.dom.create('<div class="ruler-tickMinor"></div>'),I=o.dom.create('<div class="ruler-label"><span></span></div>'),K=Number(G.labels),J=d(G.tickMajor,G.tickMinor,K),U,R,S=G.reverse,W=G.max-G.min,P,T,Q,L,O=G.min;this.element=P=o.dom.create('<div role="presentation" class="glow151-'+M.containerClassNamePart+'"><div class="ruler-spacer"></div><div class="ruler-labels"></div></div>');T=P.get("div.ruler-labels");P[0].id=G.id||"";P[0].className+=" "+(G.className||"");for(;O<=G.max;O+=J){U=((O-G.min)/W)*100;U=S?100-U:U;if(G.tickMajor&&!((O-G.min)%G.tickMajor)){V.clone().css(M.pos,U+"%").appendTo(P);}else{if(G.tickMinor&&!((O-G.min)%G.tickMinor)){N.clone().css(M.pos,U+"%").appendTo(P);}}if(K&&!((O-G.min)%K)){Q=I.clone().css(M.pos,U+"%");Q[0]._labelVal=O;Q.get("span").html(G.labelMapper?G.labelMapper(O):O);T.append(Q);}}if(!K){for(L in G.labels){U=((Number(L)-G.min)/W)*100;U=S?100-U:U;if(U<=100){Q=I.clone().css(M.pos,U+"%");Q[0]._labelVal=Number(L);Q.get("span").html(G.labelMapper?G.labelMapper(G.labels[L]):G.labels[L]);T.append(Q);}}}H.append(P);};})();function v(F){return m[!!F._opts.vertical*1];}function l(F){var G=v(F);F[G.trackToChange][0].style[G.length]=parseInt(F._handleElm[0].style[G.pos])+(F._handleSize/2)+"px";}function D(){l(this);if(this._opts.changeOnDrag){var F=a(this);t(this,F);(this._boundInput[0]||{}).value=F;}}function f(F){var G=v(this);that=this;if(y=="prevented"){return false;}else{if(y!=F.key){if(!y&&C(this).defaultPrevented()){y="prevented";return false;}clearInterval(e);e=setTimeout(function(){e=setInterval(function(){x(that,F.key==G.keyIncrement?1:-1);},40);},500);x(that,F.key==G.keyIncrement?1:-1);y=F.key;}}return false;}function b(F){if(y==F.key){y=null;clearInterval(e);s(this);}}function n(H){if(!this._disabled&&!C(this).defaultPrevented()){var F=H.attachedTo.className.indexOf("-fwd")!=-1?1:-1,G=this;x(this,F);A=setTimeout(function(){A=setInterval(function(){x(G,F);},40);},500);}return false;}function w(F){if(A){clearTimeout(A);clearInterval(A);A=null;s(this);}return false;}function x(G,F){var H=(G._opts.step||(1/G._pixelsPerVal))*F;G._nudgeVal=i(G,G._nudgeVal+H);r(G,G._nudgeVal);if(G._opts.changeOnDrag){t(G,G._nudgeVal);(G._boundInput[0]||{}).value=G._val;}}function r(F,I){var H,G=v(F),I=I===undefined?F._val:I;H=F._opts.vertical?(F._opts.max-I)*F._pixelsPerVal:(I-F._opts.min)*F._pixelsPerVal;F._handleElm[0].style[G.pos]=H+"px";l(F);}function a(H){var I=v(H),G=parseInt(H._handleElm[0].style[I.pos]),F=H._opts.vertical?(H._trackSize-H._handleSize)-G:G;F=(F/H._pixelsPerVal)+H._opts.min;return i(H,F);}function i(I,J){var H=I._opts.step,G=I._opts.min,F=I._opts.max;J=Number(J)||0;if(J<G){return G;}if(J>F){return F-((F-G)%(H||1));}if(H==0){return J;}return Math.round((J-G)/H)*H+G;}function t(H,G){var F=H._val,G=(G===undefined)?a(H):G;H.element.attr("aria-valuenow",G);H._val=G;if(G!=F){c.fire(H,"change");}}function C(F){F._valBeforeSlide=F._nudgeVal=F._val;return c.fire(F,"slideStart");}function s(G){var F={initialVal:G._valBeforeSlide,currentVal:a(G)};if(c.fire(G,"slideStop",F).defaultPrevented()){t(G,G._valBeforeSlide);G.val(G._valBeforeSlide);return;}t(G,F.currentVal);if(G._opts.snapOnDrop){G.val(F.currentVal);}else{(G._boundInput[0]||{}).value=F.currentVal;}}function h(I,Q){var F=I._opts,J=v(I),K=I.element,R,O,G,M,P,H,L=d((F.step*F.snapOnDrag),F.tickMinor,F.tickMajor),N;if(F.vertical){R=K.height();I._trackOnElm.height(F.size-R);}else{K.width(F.size);}I._trackSize=I._trackElm[J.length]();N=I._handleElm[0].style[J.length];if(o.env.ie<8){I._handleElm[0].style[J.length]=I._handleElm[0].currentStyle[J.length];I._handleElm[0].style[J.length]=I._handleElm[0].style["pixel"+J.lengthUpper];}I._handleSize=I._handleElm[0]["offset"+J.lengthUpper];I._handleElm[0].style[J.length]=N;if(F.val!=undefined){G=F.val;}else{if(I._boundInput[0]&&I._boundInput[0].value!=""){G=I._boundInput[0].value;}else{G=F.min;}}if(L){O=((I._trackSize-I._handleSize)/(F.max-F.min))*L;O=((Math.floor(O)/L)*(F.max-F.min))+I._handleSize;if(F.vertical){I._trackOnElm.height(O);if(Q){Q.element.height(O-I._handleSize);}}else{K.width(F.size-(I._trackSize-O));}I._trackSize=I._trackElm[J.length]();}I._pixelsPerVal=((I._trackSize-I._handleSize)/(F.max-F.min));I.val(G);K.attr({"aria-valuenow":I._val,"aria-valuemin":F.min,"aria-valuemax":F.max});H={axis:J.axis,container:I._trackElm,onDrag:function(){if(I._disabled||C(I).defaultPrevented()){return false;}I._stateElm.addClass("slider-active");M=c.addListener(document,"mousemove",D,I);},onDrop:function(){I._stateElm.removeClass("slider-active");c.removeListener(M);s(I);}};if(F.snapOnDrag){H.step=I._pixelsPerVal*F.step;}P=new o.dragdrop.Draggable(I._handleElm,H);if(F.jumpOnClick){c.addListener(I._trackElm,"mousedown",function(T){if(I._disabled||T.source==I._handleElm[0]){return;}var U=v(I),S=T[U.pagePos];T[U.pagePos]=I._handleElm.offset()[U.pos]+(I._handleSize/2);if(P._startDragMouse.call(P,T)===false){T[U.pagePos]=S;P._dragMouse.call(P,T);l(I);return false;}});}}z=o.widgets.Slider=function(G,F){this._disabled=false;G=k(G);this._opts=F=o.lang.apply({min:0,max:100,step:1,theme:"light",jumpOnClick:1,buttons:1,size:300},F);var J,O,I=v(this),K,R,N,P=[],M=this,H,Q,L=d((F.step*F.snapOnDrag),F.tickMinor,F.tickMajor);J=u.length;while(J--){O="on"+u[J].charAt(0).toUpperCase()+u[J].slice(1);if(F[O]){c.addListener(this,u[J],F[O]);}}this._boundInput=F.bindTo?k(F.bindTo):new o.dom.NodeList();this.element=K=o.dom.create('<div class="glow151-'+I.containerClassNamePart+'" tabindex="0" role="slider" aria-disabled="false">'+g+"</div>");this._trackElm=K.get("div.slider-track");this._trackOnElm=K.get("div.slider-trackOn");this._trackOffElm=K.get("div.slider-trackOff");this._handleElm=this._trackElm.get("div.slider-handle");this._stateElm=K.get("div.slider-state");K.get("div.slider-theme").addClass("slider-"+F.theme);!F.buttons&&this._stateElm.addClass("slider-noButtons");K[0].id=F.id||"";K[0].className+=" "+(F.className||"");if(F.tickMajor||F.tickMinor||F.labels){F.reverse=F.vertical;Q=new B(K.get("div.slider-labels"),F);}this.element.appendTo(G);h(this,Q);if(this._boundInput[0]){c.addListener(this._boundInput,"change",function(){var S=i(M,this.value);t(M,S);M.val(S);});}c.addListener(this.element,"focus",function(){if(!M._disabled){M._stateElm.addClass("slider-active");P[0]=c.addKeyListener(I.keyIncrement,"down",f,M);P[1]=c.addKeyListener(I.keyDecrement,"down",f,M);P[2]=c.addKeyListener(I.keyIncrement,"up",b,M);P[3]=c.addKeyListener(I.keyDecrement,"up",b,M);P[4]=c.addKeyListener(I.keyIncrement,"press",q);P[5]=c.addKeyListener(I.keyDecrement,"press",q);}});c.addListener(this.element,"blur",function(){M._stateElm.removeClass("slider-active");var S=P.length;while(S--){c.removeListener(P[S]);}P=[];});H=this.element.get(".slider-btn-fwd, .slider-btn-bk");c.addListener(H,"mousedown",n,this);c.addListener(H,"mouseup",w,this);c.addListener(H,"mouseout",w,this);if(Q){c.addListener(Q.element,"mousedown",function(S){if(M._disabled){return;}var T=k(S.source),U;while(T[0]!=Q.element[0]){if(T.hasClass("ruler-label")){U=i(M,T[0]._labelVal);t(M,U);M.val(U);return false;}T=T.parent();}});}};z.prototype={disabled:function(F){if(F!==undefined){this._disabled=F=!!F;this.element.attr("aria-disabled",F);this._stateElm[F?"addClass":"removeClass"]("slider-disabled");(this._boundInput[0]||{}).disabled=F;return this;}else{return this._disabled;}},val:function(F){if(F!=undefined){this._val=i(this,F);this.element.attr("aria-valuenow",this._val);(this._boundInput[0]||{}).value=this._val;r(this);return this;}else{return this._val;}},valToLabel:function(K){if(K===undefined){K=this._val;}var L=this._opts.labels,I=Infinity,H=Infinity,F,J,G;if(L===undefined){return null;}if(typeof L=="number"){return Math.round(K/L)*L;}if(L[K]){return L[K];}for(G in L){J=Math.abs(Number(G)-K);if(J<H){H=J;I=Number(G)-K;F=L[G];}else{if(J==H){if(I<0){H=J;I=Number(G)-K;F=L[G];}}}}return F;},labelToVal:function(F){var G,H=this._opts.labels;if(H===undefined){return null;}if(typeof H=="number"){F=Number(F);if(!(Number(F)%H)&&!isNaN(F)){return F;}return null;}for(G in H){if(F==H[G]){return Number(G);}}return null;}};}});(window.gloader||glow).module({name:"glow.widgets.AutoSuggest",library:["glow","1.5.1"],depends:[["glow","1.5.1","glow.dom","glow.events","glow.anim","glow.widgets","glow.net","glow.widgets.Overlay"]],builder:function(glow){var $=glow.dom.get,events=glow.events,anim=glow.anim;function bindTo(that,inputElement){that.inputElement=$(inputElement);if(!that.inputElement[0].tagName.toLowerCase()=="input"){throw'Argument "inputElement" must be set to an input HTMLElement.';}that.inputElement.attr("autocomplete","off");}function downloadData(that,url,callback){if(that._lastDownload==url){if(callback){callback.apply(that,arguments);}else{that.find();}}else{that._lastDownload=url;if(that._pendingRequest){that._pendingRequest.abort();}that._pendingRequest=glow.net.get(url,{onLoad:function(r){var dataObject=(that.opts.parseData)?that.opts.parseData.apply(that,[r]):eval(r.text());that._pendingRequest=null;that.setData(dataObject);var e=new events.Event();e.data=dataObject;e.text=r.text();events.fire(that,"dataLoad",e);if(callback){callback.apply(that,arguments);}else{that.find();}},onError:function(r){var e=new events.Event();e.response=r;events.fire(that,"dataError",e);},onAbort:function(r){var e=new events.Event();e.response=r;events.fire(that,"dataAbort",e);}});}}function isVisible(that){return($(that.overlay.container).css("display")=="block");}function place(that){var inputOffset=that.inputElement.offset();that.overlay.container.css("left",parseInt(inputOffset.left)+"px").css("top",parseInt(inputOffset.top+that.inputElement[0].offsetHeight-1)+"px").css("width",((that.opts.width)?that.opts.width:that.inputElement[0].offsetWidth+"px"));}function buildIndexer(that){if(that.opts.index){if(typeof that.opts.index=="function"){that._indexer=that.opts.index;}else{if(typeof that.opts.index=="string"){that._indexer=(function(index){return function(dataItem){return dataItem[index];};})(that.opts.index);}else{if(typeof that.opts.index.push!="undefined"){that._indexer=(function(index){var l=index.length-1;return function(dataItem){var result=[];for(var i=l;i>=0;i--){result[i]=dataItem[index[i]];}return result;};})(that.opts.index);}else{throw"opts.index must be of type function, string or array, not "+typeof that.opts.index+".";}}}}else{that._indexer=function(dataItem){return(dataItem.name)?dataItem.name:dataItem.toString();};}}function nextItem(that){var currItem=$(that.overlay.container).get(".active");if(currItem.length==0){var items=$(that.overlay.container).get("li");if(items.length){activateItem(that,items[0]);}}else{var nextItem=currItem.next();if(nextItem&&!nextItem.is("ul")){deactivateItem(that,currItem);activateItem(that,nextItem);}}}function prevItem(that){var currItem=$(that.overlay.container).get(".active");if(currItem.length==0){var allItems=$(that.overlay.container).get("li");var lastItem=allItems[allItems.length-1];activateItem(that,lastItem);}else{var prevItem=currItem.prev();if(prevItem&&!prevItem.is("ul")){deactivateItem(that,currItem);activateItem(that,prevItem);}}}function getParentListItem(that,node){var listItem=node;while(listItem.parentNode&&listItem.parentNode.parentNode){if($(listItem.parentNode.parentNode).hasClass("glow151-autoSuggest")){break;}listItem=listItem.parentNode;}return(listItem.nodeName.toLowerCase()=="li")?listItem:null;}function activateItem(that,listItem){deactivateItems(that,listItem);$(listItem).addClass("active");if(that._lastActive!=listItem){that._lastActive=listItem;events.fire(that,"itemActive");}}function activateItemOffset(that,offset){var li=that.overlay.container.get("li")[offset];if(li){$(li).addClass("active");}}function deactivateItem(that,listItem){$(listItem).removeClass("active");}function deactivateItems(that,listItem){var list=(listItem)?$(listItem).parent():that.overlay.container.get("ul");list.get("li").each(function(i){$(this).removeClass("active");});}function addEvents(that){events.addListener(that,"itemActive",function(e){if(!isVisible(that)){return false;}var selectedOffset=that.getSelectedOffset();if(selectedOffset==-1){return false;}if(that.opts.onItemActive){var e=new events.Event();e.activeItem=that._found[selectedOffset];that.opts.onItemActive.apply(that,[e]);}return true;});events.addListener(that.inputElement,"mousedown",function(e){clearTimeout(that.findTimeout);that._value=that.inputElement.val();valueChanged(that,true);that.hide();that.value+=that._selected;that._selected="";return true;});events.addListener(that,"itemSelect",function(e){if(!isVisible(that)){return false;}var selectedOffset=that.getSelectedOffset();if(selectedOffset==-1){return false;}var e=new events.Event();e.source=$(that.overlay.container).get(".active");e.selectedItem=that._found[selectedOffset];if(that.opts.onItemSelect){that.opts.onItemSelect.apply(that,[e]);}setCaretTo(that.inputElement[0],that.inputElement.val().length);valueChanged(that,true);that.hide();return true;});events.addListener(that.overlay.container.get("ul")[0],"mousedown",function(e){events.fire(that,"itemSelect",e);});events.addListener(window,"resize",function(e){place(that);});events.addListener(that.overlay.container,"mousedown",function(){return false;});events.addListener(that.overlay.container,"beforedeactivate",function(event){if($(event.nativeEvent.toElement).isWithin(that.overlay.container)){return false;}return true;});events.addListener(that.inputElement,"blur",function(e){clearTimeout(that.findTimeout);that._value=that.inputElement.val();valueChanged(that,true);that.hide();});events.addListener(that.overlay.container,"mouseover",function(e){var li=getParentListItem(that,e.source);li&&activateItem(that,li);});events.addListener(that.overlay.container,"mouseout",function(e){var li=getParentListItem(that,e.source);if(li&&li!=e.source){deactivateItem(that,li);}});var ignoreInUp=false;var repeating={ondown:0,onpress:0};function keyDownHandler(e){clearTimeout(that.findTimeout);ignoreInUp=false;repeating.ondown++;if(e.key=="DOWN"){if(isVisible(that)){ignoreInUp=true;nextItem(that);return false;}}else{if(e.key=="UP"){if(isVisible(that)){ignoreInUp=true;prevItem(that);return false;}}else{if(e.key=="LEFT"){if(isVisible(that)){that._value=that.inputElement.val();valueChanged(that,true);that.hide();}}else{if(e.key=="RIGHT"){if(isVisible(that)){that._value=that.inputElement.val();valueChanged(that,true);that.hide();}}else{if(e.key=="ESC"){that._value=that.inputElement.val();valueChanged(that,true);that.hide();return false;}else{if(e.key=="DEL"||e.key=="BACKSPACE"){that.hide();}else{if(e.key=="ENTER"){if(isVisible(that)){ignoreInUp=true;}else{return true;}var selectedOffset=that.getSelectedOffset();if(selectedOffset==-1){that.hide();return true;}var e=new events.Event();e.source=$(that.overlay.container).get(".active");e.selectedItem=that._found[selectedOffset];events.fire(that,"itemSelect",e);return false;}}}}}}}return true;}events.addListener(that.inputElement[0],"keydown",keyDownHandler);function keyPressHandler(e){repeating.onpress++;if(repeating.ondown==1&&repeating.onpress>1){if(e.key=="DOWN"){if(isVisible(that)){nextItem(that);}return false;}else{if(e.key=="UP"){if(isVisible(that)){prevItem(that);}return false;}}}return true;}events.addListener(that.inputElement[0],"keypress",keyPressHandler);function keyUpHandler(e){repeating={ondown:0,onpress:0};if(ignoreInUp){return false;}that._value=that.inputElement.val();valueChanged(that);return true;}events.addListener(that.inputElement[0],"keyup",keyUpHandler);}function valueChanged(that,withoutFinding){if(typeof that._oldValue=="undefined"){that._oldValue=that.inputElement.val();}var currentValue=that.getValue();var skipFind=false;if(currentValue.toLowerCase()==that._oldValue.toLowerCase()){var skipFind=true;}that._oldValue=currentValue;if(withoutFinding||skipFind){return;}that.findTimeout=setTimeout(function(){var e=new glow.events.Event();e.value=currentValue;glow.events.fire(that,"inputChange",e);activateItemOffset(that,0);if(!e.defaultPrevented()){if(typeof that.dataSource!="object"){that.loadData();}that.find();}},500);}glow.widgets.AutoSuggest=function(inputElement,dataSource,opts){this.opts=opts||{};bindTo(this,inputElement);this.overlay=new glow.widgets.Overlay(glow.dom.create('<div class="glow151-autoSuggest"><ul></ul></div>'),{autoPosition:false,anim:(this.opts.anim)?this.opts.anim:null});this.configure(this.opts);buildIndexer(this);this.dataSource=dataSource;this.data=[];if(typeof dataSource!="string"){this.loadData();}addEvents(this);if(this.opts.complete){if(this.inputElement.val()==""){this.setData(dataSource);}else{this.setData(dataSource,function(){});}var that=this;events.addListener(that,"itemActive",function(e){var selectedOffset=that.getSelectedOffset();if(selectedOffset==-1){return false;}var matchedOn=(that._found[selectedOffset][this.opts.index]||that._found[selectedOffset]["name"]||that._found[selectedOffset]);if(typeof matchedOn.push!="undefined"){matchedOn=that._matchedOn;}that.suggest(matchedOn);return true;});}};glow.widgets.AutoSuggest.prototype.configure=function(opts){this.opts=opts||{};if(this.opts.height){var listContainer=$(this.overlay.container.get(".glow151-autoSuggest").get("ul")[0]);listContainer.css("overflow-x","hidden");listContainer.css("overflow-y","auto");listContainer.height(this.opts.height);}if(this.opts.theme=="dark"){$(this.overlay.container.get("ul")[0]).removeClass("autosuggest-light");$(this.overlay.container.get("ul")[0]).addClass("autosuggest-dark");}else{$(this.overlay.container.get("ul")[0]).removeClass("autosuggest-dark");$(this.overlay.container.get("ul")[0]).addClass("autosuggest-light");}if(this.opts.onDataLoad){events.addListener(this,"dataLoad",this.opts.onDataLoad);}if(this.opts.onDataError){events.addListener(this,"dataError",this.opts.onDataError);}if(this.opts.onDataAbort){events.addListener(this,"dataAbort",this.opts.onDataAbort);}if(this.opts.onInputChange){events.addListener(this,"inputChange",this.opts.onInputChange);}this._isMatch=this.opts.isMatch||function(word,lookFor){return(word.indexOf(lookFor)==0);};this._formatItem=this.opts.formatItem||function(o){return(o.name)?o.name:o.toString();};this._matchItem=this.opts.formatItem||function(o){return o.name;};};glow.widgets.AutoSuggest.prototype.setData=function(dataSource,callback){if(typeof dataSource=="function"){dataSource=dataSource.call(this);}if(typeof dataSource=="string"){this.dataURL=dataSource;this.data=[];dataSource=dataSource.replace(/\{input\}/g,escape(this.getValue()));downloadData(this,dataSource,callback);}else{this.data=dataSource;this.index={};this.results=[];for(var d=0;d<this.data.length;d++){var datum=this.data[d];this.results.push(datum);var keywords=this._indexer(datum);keywords=(typeof keywords=="string")?[keywords]:keywords;for(var i=0;i<keywords.length;i++){var keyword="="+(this.opts.caseSensitive?String(keywords[i]):String(keywords[i]).toLowerCase());if(!this.index[keyword]){this.index[keyword]=[];}this.index[keyword].push(this.results.length-1);}}return this;}};glow.widgets.AutoSuggest.prototype.loadData=function(callback){this.setData(this.dataSource,callback);return this;};function appendTag(currentValue,delim,value){var split;if(delim==""||currentValue.indexOf(delim)<0){split=new RegExp("^( *)(.*)$");}else{split=new RegExp("^(.*"+delim+" *)([^"+delim+"]*)$");}var lv=split.exec(currentValue)[1];var rv=(split.exec(value)||["","",value])[2];return lv+rv;}glow.widgets.AutoSuggest.prototype.val=function(value){if(typeof value=="undefined"){return this._value;}else{this._value=value;this.inputElement.val(value);return this;}};glow.widgets.AutoSuggest.prototype.setValue=function(value){var currentValue=this._value||this.inputElement.val();var delim=(this.opts.delim||"");value=appendTag(currentValue,delim,value);this._value=value;this.inputElement.val(value);};glow.widgets.AutoSuggest.prototype.getValue=function(){var value=this._value||this.inputElement.val();if(typeof this.opts.delim!="undefined"&&this.opts.delim!=""){value=(value.match(new RegExp("(^|"+this.opts.delim+" *)([^"+this.opts.delim+"]*)$"))||["","",""]);value=value[2];}return value;};glow.widgets.AutoSuggest.prototype.suggest=function(suggested){this._suggested=suggested;var currentValue=this.inputElement.val();var delim=(this.opts.delim||"");var value=appendTag(currentValue,delim,suggested);this.inputElement.val(value);selectRange(this.inputElement[0],{start:(this._value||"").length,end:this.inputElement.val().length});};function selectRange(el,range){el.focus();if(!window.opera&&el.createTextRange){var r=el.createTextRange();r.moveEnd("character",range.end);r.moveStart("character",range.start);r.select();}else{el.select();el.selectionStart=range.start;el.selectionEnd=range.end;}}function setCaretTo(el,pos){selectRange(el,{start:pos,end:pos});}function array_indexOf(value){var index=-1;for(var i=0,l=this.length;i<l;i++){if(this[i]===value){index=i;break;}}return index;}glow.widgets.AutoSuggest.prototype.find=function(lookFor){if(typeof lookFor=="undefined"){lookFor=this.getValue();}while(lookFor.charAt(0)==" "){lookFor=lookFor.substring(1);}if(!this.opts.caseSensitive){lookFor=lookFor.toLowerCase();}var found=[];found.indexOf||(found.indexOf=array_indexOf);if(lookFor){for(var k in this.index){var lookAt=k.substring(1);if(this._isMatch(lookAt,lookFor)){var keys=this.index[k];for(var j=0;j<keys.length;j++){var offset=keys[j];if(found.indexOf(this.results[offset])==-1){found.push(this.results[offset]);}}}}}this._found=found;if(found.length){if(this.opts.maxListLength){found.length=Math.min(found.length,this.opts.maxListLength);}var list=[];for(var i=0;i<found.length;i++){list.push('<li class="'+((i%2)?"odd":"even")+'">'+this._formatItem(found[i])+"</li>");}$(this.overlay.container.get("ul")[0]).html(list.join(""));this.show();}else{this.hide();}if(this.opts.activeOnShow!==false){nextItem(this);}};glow.widgets.AutoSuggest.prototype.hide=function(){this.overlay.hide();};glow.widgets.AutoSuggest.prototype.show=function(){place(this);this.overlay.show();};glow.widgets.AutoSuggest.prototype.getSelectedOffset=function(){if(!isVisible(this)){return -1;}var items=this.overlay.container.get("li");for(var i=0;i<items.length;i++){if($(items[i]).hasClass("active")){return i;}}return -1;};}});(window.gloader||glow).module({name:"glow.widgets.AutoComplete",library:["glow","1.5.1"],depends:[["glow","1.5.1","glow.widgets.AutoSuggest"]],builder:function(d){var c=d.dom.get,a=d.events,b=d.anim;d.widgets.AutoComplete=function(g,h,f){f=f||{};this.autosuggest=new d.widgets.AutoSuggest(g,[],f);this.autosuggest._indexer=function(i){return i.toString();};this.autosuggest._formatItem=function(i){return i.toString();};this.autosuggest.setData(h);var e=this.autosuggest;a.addListener(e,"itemActive",function(i){var k=e.getSelectedOffset();if(k==-1){return false;}e.suggest(e._found[k]);return true;});};}});(window.gloader||glow).module({name:"glow.widgets.Carousel",library:["glow","1.5.1"],depends:[["glow","1.5.1","glow.dom","glow.events","glow.anim","glow.widgets"]],builder:function(n){var f=n.dom.get,q=n.events,e=n.dom;function l(r,s){s=s||{};this._content=f(r);this._startContentHeight=this._content[0].offsetHeight;this._content.addClass("carousel-content").css("zoom","1");this.items=this._content.children();s=this._opts=n.lang.apply({animDuration:0.4,animTween:n.tweens.easeBoth(),loop:false,step:1,vertical:false,scrollOnHold:true,slideOnScroll:false,theme:"light",pageNav:false},s);s.animDuration=Number(s.animDuration);s.size=Number(s.size);this.element=e.create("<div"+(this._opts.id?' id="'+this._opts.id+'"':"")+' class="'+(this._opts.vertical?"glow151-vCarousel":"glow151-carousel")+(this._opts.className?" "+this._opts.className:"")+'"></div>');var t=e.create('<div class="carousel-'+this._opts.theme+'"></div>');this._viewWindow=e.create('<div class="carousel-window"></div>');this._content.before(this.element);t.prependTo(this.element);this._viewWindow.prependTo(t);this._content.prependTo(this._viewWindow);if(this._opts.vertical){this.element.addClass("glow151-vCarousel");}else{this.element.addClass("glow151-carousel");}if(!this._opts.pageNav){this._navPrev=e.create('<a class="carousel-nav carousel-prev" href="#"><span class="carousel-label">Previous</span><span class="carousel-background"></span><span class="carousel-top"></span><span class="carousel-bottom"></span><span class="carousel-arrow"></span></a>').insertBefore(this._viewWindow);this._navNext=e.create('<a class="carousel-nav carousel-next" href="#"><span class="carousel-label">Next</span><span class="carousel-background"></span><span class="carousel-top"></span><span class="carousel-bottom"></span><span class="carousel-arrow"></span></a>').insertAfter(this._viewWindow);}p.apply(this,[r,s]);}function p(r,v){var u=this;var w=this.items[0].style.position;this.items[0].style.position="absolute";this._itemWidth=parseInt(this.items[0].offsetWidth)+parseInt(f(this.items[0]).css(["margin-left","margin-right"]));this._itemHeight=parseInt(this.items[0].offsetHeight)+parseInt(f(this.items[0]).css(["margin-top","margin-bottom"]));this.items[0].style.position=w;this._itemHangingOffEnd=false;if(!v.size){var s;if(v.vertical){this._sizeView=this._startContentHeight;if(!this._opts.pageNav){this._sizeView-=this._navPrev[0].offsetHeight+this._navNext[0].offsetHeight;}this._viewWindow.css("width",this._itemWidth+"px");this._viewWindow.css("height",this._sizeView+"px");s=this._sizeView/this._itemHeight;this._opts.size=Math.floor(s);this._itemHangingOffEnd=(s!=this._opts.size);this.element.css("height",this._sizeView+(this._opts.pageNav?0:this._navPrev[0].offsetHeight+this._navNext[0].offsetHeight)+"px");}else{this._sizeView=this.element[0].offsetWidth;if(!this._opts.pageNav){this._sizeView-=this._navPrev[0].offsetWidth+this._navNext[0].offsetWidth;}this._viewWindow.css("width",this._sizeView+"px");this._viewWindow.css("height",this._itemHeight+"px");s=this._sizeView/this._itemWidth;this._opts.size=Math.floor(s);this._itemHangingOffEnd=(s!=this._opts.size);this.element.css("width",this._sizeView+(this._opts.pageNav?0:this._navPrev[0].offsetWidth+this._navNext[0].offsetWidth)+"px");}}else{if(this._opts.vertical){this._viewWindow.css("width",this._itemWidth+"px");this._viewWindow.css("height",this._opts.size*this._itemHeight+"px");}else{this._viewWindow.css("width",this._opts.size*this._itemWidth+"px");this._viewWindow.css("height",this._itemHeight+"px");}}if(this._opts.step=="page"){this._opts.step=this._opts.size;}if(this._opts.size<this._opts.step){throw new Error("Carousel opts.step ("+this._opts.step+") cannot be larger than carousel size ("+this._opts.size+").");}var y=["addItem","removeItem","scroll","afterScroll","itemClick"],t=y.length,x;while(t--){x="on"+y[t].charAt(0).toUpperCase()+y[t].slice(1);if(v[x]){q.addListener(u,y[t],v[x]);}}this._customButtonDimentions=(this._navPrev&&this._navNext)&&(this._navPrev[0].style.width||this._navPrev[0].style.height||this._navNext[0].style.width||this._navNext[0].style.height);this._originalOptsLoop=this._opts.loop;m.apply(this);this._ready=true;}function m(){var u=this;this.items=this._content.children();var I;this._notEnoughContent=this.items.length<=this._opts.size;if(this._notEnoughContent){this._opts.loop=false;this.element.get(".carousel-window").addClass("carousel-notEnoughItems");}else{this._opts.loop=this._originalOptsLoop;this.element.get(".carousel-window").removeClass("carousel-notEnoughItems");if(this._navPrev){this._navPrev.removeClass("carousel-prev-disabled");this._navNext.removeClass("carousel-next-disabled");}}if(this._opts.loop){I=this._opts.step-((this.items.length%this._opts.step)||this._opts.step);}else{var A=Math.ceil((this.items.length-this._opts.size)/this._opts.step);I=(this._opts.size+(A*this._opts.step))-this.items.length;I+=Number(this._itemHangingOffEnd);}var E=f(this.items[0]).clone().attr("role","presentation");E.removeAttr("id");E.addClass("carousel-added");E.addClass("carousel-pad");E.children().css("visibility","hidden");for(var C=0;C<I;C++){this._content.append(E.clone());}this.items=this._content.children();var t=this.items.length;if(this._opts.loop){var H=this._opts.size+Number(this._itemHangingOffEnd);var G=this.items.slice(0,H).clone(true).attr("role","presentation");G.addClass("carousel-added");this._content.append(G);this.items=this._content.children();}this.items.addClass("carousel-item");this.items.each(function(J){this["_index"+n.UID]=J;});this._direction=(this._opts.vertical)?"top":"left";this._countRealItems=t-I;this._countReal=t;this._countAll=this.items.length;this._countStep=this._opts.step;this._countView=this._opts.size;this._sizeEach=(this._opts.vertical?this._itemHeight:this._itemWidth);this._sizeStep=this._sizeEach*this._opts.step;this._sizeView=this._sizeEach*this._opts.size;this._sizeReal=this._sizeEach*this._countReal;this._sizeAll=this._sizeEach*this._countAll;this._animationTime=this._opts.animDuration;this._slideAnimationTime=this._animationTime/2;this._animationTween=this._opts.animTween;(this._opts.vertical)?this._content.css("height",this._sizeAll+"px"):this._content.css("width",this._sizeAll+"px");if(!this._opts.pageNav&&!this._customButtonDimentions){if(this._opts.vertical){this._navPrev.width(parseInt(this.items[0].offsetWidth)+parseInt(f(this.items[0]).css(["margin-left","margin-right"])));this._navNext.width(parseInt(this.items[0].offsetWidth)+parseInt(f(this.items[0]).css(["margin-left","margin-right"])));}else{this._navPrev.height(parseInt(this.items[0].offsetHeight)+parseInt(f(this.items[0]).css(["margin-top","margin-bottom"])));this._navNext.height(parseInt(this.items[0].offsetHeight)+parseInt(f(this.items[0]).css(["margin-top","margin-bottom"])));}}var w=[];var y=[];var v,x;function r(){g.apply(u);}if(this._opts.loop){this._movesMax=(this._countReal/this._countStep)-1;}else{this._movesMax=Math.ceil((this._countReal-this._countView-Number(this._itemHangingOffEnd))/this._countStep);}var D=this._movesMax+Number(this._opts.loop);for(var C=0;C<D;C++){v={};v["margin-"+this._direction]={from:(-C*this._sizeStep)+"px",to:(-(C+1)*this._sizeStep)+"px"};x=n.anim.css(this._content,this._slideAnimationTime,v,{tween:n.tweens.linear()});q.addListener(x,"complete",r);y.push(x);v={};v["margin-"+this._direction]={from:(-(C+1)*this._sizeStep)+"px",to:(-C*this._sizeStep)+"px"};x=n.anim.css(this._content,this._slideAnimationTime,v,{tween:n.tweens.linear()});q.addListener(x,"complete",r);w.unshift(x);}this._slidePrev=new n.anim.Timeline(w,{loop:this._opts.loop});this._slideNext=new n.anim.Timeline(y,{loop:this._opts.loop});if(this._opts.pageNav){this._pageNav=new o(this._movesMax+1,function(J){u.moveTo(J*u._countStep);});this._navPrev=this._pageNav.leftarrow;this._navNext=this._pageNav.rightarrow;var B=this.element.get(".carousel-window");B.parent().get(".pageNav").remove();this._pageNav.element.insertAfter(B);B.addClass("paged");if(this._opts.vertical){var z=Math.floor(((B[0].offsetHeight)-this._pageNav.element[0].offsetHeight)/2);this._pageNav.element.css("margin-top",z+"px");}else{var s=Math.floor(((B[0].offsetWidth)-this._pageNav.leftarrow[0].offsetWidth*(3+this._movesMax))/2);this._pageNav.element.css("margin-left",s+"px");}this._pageNav.update((this._visibleIndexFirst()%this._countReal)/this._countStep);}if(this._notEnoughContent){if(this._navPrev){this._navPrev.addClass("carousel-prev-disabled");this._navNext.addClass("carousel-next-disabled");}}else{if(!this._opts.loop){if(!h.apply(this,["prev"])){this._navPrev.addClass("carousel-prev-disabled");}else{if(!h.apply(this,[])){this._navNext.addClass("carousel-next-disabled");}}}}q.addListener(this._navPrev,"click",function(J){return false;});q.addListener(this._navPrev,"mousedown",function(J){u.prev();b.call(u,true);return false;});q.addListener(this._navPrev,"mouseup",function(J){i.call(u);return false;});q.addListener(this._navPrev,"mouseout",function(J){if(J.relatedTarget&&(J.relatedTarget==u._navPrev[0]||f(J.relatedTarget).isWithin(u._navPrev))){return;}i.call(u);});q.addListener(this._navNext,"click",function(J){return false;});q.addListener(this._navNext,"mousedown",function(J){u.next();b.call(u);return false;});q.addListener(this._navNext,"mouseup",function(J){i.call(u);return false;});q.addListener(this._navNext,"mouseout",function(J){if(J.relatedTarget&&(J.relatedTarget==u._navNext[0]||f(J.relatedTarget).isWithin(u._navNext))){return;}i.call(u);});var F;q.addListener(this.element,"keydown",function(J){if(F){return false;}switch(J.key){case"UP":case"LEFT":F=J.key;if(!u._isPlaying()){u.prev();b.call(u,true);}return false;case"DOWN":case"RIGHT":F=J.key;if(!u._isPlaying()){u.next();b.call(u);}return false;case"ENTER":F=J.key;if(J.source==u._navNext[0]||(u._pageNav&&J.source.parentNode==u._pageNav.rightarrow[0])){u.next();b.call(u);return false;}else{if(J.source==u._navPrev[0]||(u._pageNav&&J.source.parentNode==u._pageNav.leftarrow[0])){u.prev();b.call(u,true);return false;}}}});q.addListener(this.element,"keyup",function(J){switch(J.key){case"UP":case"LEFT":case"DOWN":case"RIGHT":case"ENTER":F=null;i.call(u);}});q.addListener(this.element,"keypress",function(J){switch(J.key){case"UP":case"LEFT":case"DOWN":case"RIGHT":return false;case"ENTER":if(J.source==u._navNext[0]||(u._pageNav&&J.source.parentNode==u._pageNav.rightarrow[0])||J.source==u._navPrev[0]||(u._pageNav&&J.source.parentNode==u._pageNav.leftarrow[0])){return false;}}});n.events.addListener(this._content,"click",function(K){for(var J=f(K.source);J[0]!=u.element[0];J=J.parent()){if(J.hasClass("carousel-item")){if(!J.hasClass("carousel-pad")){n.events.fire(u,"itemClick",{item:J[0],itemIndex:J[0]["_index"+n.UID]%u._countReal});}break;}}});}function d(u){if(this._isPlaying()||!h.call(this,u)){return;}var t=parseInt(this._content.css("margin-"+this._direction))%this._sizeReal;if(u&&t==0){t-=this._sizeReal;}var v=t-((u?-1:+1)*this._sizeStep);var r={};r["margin-"+this._direction]={from:t+"px",to:v+"px"};this._step=n.anim.css(this._content,this._animationTime,r,{tween:this._animationTween});this._step.start();var s=this;n.events.addListener(this._step,"complete",function(){g.apply(s);});}function b(s){if(this._slidePrev.isPlaying()||this._slideNext.isPlaying()){return;}var r=this;this._repeat=true;function t(){if(r._opts.slideOnScroll){if(h.apply(r,[s])){var v=c.apply(r);if(s){v=r._slidePrev.duration-v;}var u=s?r._slidePrev:r._slideNext;setTimeout(function(){if(r._isPlaying()||!r._repeat){return;}u.goTo(v).resume();},300);}}else{if(!r._repeat){return;}d.call(r,s);if(r._step){n.events.addListener(r._step,"complete",t);}}}if(this._opts.scrollOnHold){if(this._step&&this._step.isPlaying()){if(!this._step._hasSlidingListener){n.events.addListener(this._step,"complete",t);this._step._hasSlidingListener=true;}}else{t();}}}function i(){this._repeat=false;}function h(s){if(this._opts.loop){return true;}var r=this._visibleIndexFirst();if(s){return r!=0;}return(r+this._countView)<(this._countAll-Number(this._itemHangingOffEnd));}function k(){this._navPrev.removeClass("carousel-prev-disabled");this._navNext.removeClass("carousel-next-disabled");q.fire(this,"scroll",{currentPosition:this._visibleIndexFirst()%this._countReal});}function g(){if(!this._repeat||!this._opts.scrollOnHold){a.apply(this);}var r=this._visibleIndexFirst();q.fire(this,"afterScroll",{position:r%this._countReal});if(this._pageNav){this._pageNav.update((r%this._countReal)/this._countStep);}if(!this._opts.loop){if(!h.apply(this,["prev"])){this._navPrev.addClass("carousel-prev-disabled");}else{if(!h.apply(this,[])){this._navNext.addClass("carousel-next-disabled");}}}}function a(){this._slideNext.stop();this._slidePrev.stop();}l.prototype.prev=function(){if(!this._isPlaying()){if(!h.apply(this,["prev"])){return this;}k.apply(this,["prev"]);d.apply(this,["prev"]);}return this;};l.prototype.next=function(){if(!this._isPlaying()){if(!h.apply(this,[])){return this;}k.apply(this,[]);d.apply(this,[]);}return this;};function c(){var t=parseInt(this._content.css("margin-"+this._direction));var s=Math.abs(t)/this._sizeStep;var r=s*this._slideAnimationTime;return r;}l.prototype._isPlaying=function(){return((this._step&&this._step.isPlaying())||this._slidePrev.isPlaying()||this._slideNext.isPlaying());};l.prototype._visibleIndexFirst=function(){var r=Math.floor(Math.abs(parseInt(this._content.css("margin-"+this._direction))/this._sizeEach));return this.items[r]["_index"+n.UID];};l.prototype.visibleIndexes=function(){var u=this._visibleIndexFirst();var s=[];for(var t=0,r=this._opts.size;(t<r)&&(u+t<this._countRealItems);t++){s.push((u+t)%this._countReal);}return s;};l.prototype.visibleItems=function(){var s=this.visibleIndexes();var r=new n.dom.NodeList();for(var t=0;t<s.length;t++){r.push(this.items[s[t]]);}return r;};l.prototype.addItems=function(t,r){t=f(t);var s={items:t};if(q.fire(this,"addItem",s).defaultPrevented()){return t;}this._content.get(".carousel-added").remove();if(typeof r!="undefined"&&r<this._countReal){t.insertBefore(this._content.children().item(r));}else{this._content.append(t);}m.apply(this);return t;};l.prototype.removeItem=function(s){var r=this.items.slice(s,s+1),t={item:r,itemIndex:s};if(q.fire(this,"removeItem",t).defaultPrevented()){return r;}this._content.get(".carousel-added").remove();r.remove();m.apply(this);return r;};l.prototype.moveBy=function(u,r){var s=this._visibleIndexFirst();var t=s+u;if(this._opts.loop){if(t<0){this._content.css("margin-"+this._direction,(this._countReal*-this._sizeEach)+"px");t=this._countReal+t;}if(s>=this._countReal&&t>this._countReal){this._content.css("margin-"+this._direction,"0px");t=t%this._countReal;}}return this.moveTo(t,r);};l.prototype.moveTo=function(v,s){var u=this;if(this._isPlaying()){return this;}if(!this._opts.loop){v=Math.min(v,this._countReal-1);}v=Math.max(v,0);v-=(v%this._countStep);if(!this._opts.loop){v=Math.min(v,this._movesMax*this._countStep);}var t=this._visibleIndexFirst();if(t==v){return this;}k.apply(this,[]);if(s!==false){var r={};r["margin-"+this._direction]={from:(t*-this._sizeEach)+"px",to:(v*-this._sizeEach)+"px"};this._step=n.anim.css(this._content,this._animationTime,r,{tween:this._animationTween});var u=this;n.events.addListener(this._step,"complete",function(){g.apply(u,[]);});this._step.start();}else{this._content.css("margin-"+this._direction,(v*-this._sizeEach)+"px");g.apply(this,[]);}return this;};n.widgets.Carousel=l;function o(u,v){this.leftarrow=e.create("<li class='arrow' id='leftarrow'><a href='#' class='dotLabel'>previous</a></li>");this.rightarrow=e.create("<li class='arrow' id='rightarrow'><a href='#' class='dotLabel'>next</a></li>");var r="";for(var s=0;s<u;s++){r+="<li class='dot' id='dot"+s+"'><div class='dotLabel'>"+(s+1)+"</div></li>";}this.element=e.create("<ul class='pageNav'>"+r+"</ul>");this.leftarrow.insertBefore(this.element.get("li")[0]);this.rightarrow.insertAfter(this.element.get("li")[this.element.get("li").length-1]);var t=this;n.events.addListener(this.element,"click",function(x){if(f(x.source).parent().hasClass("dot")){var w=f(x.source).parent()[0].id.replace(/[^0-9]*/,"");v.apply(t,[w]);}});this.currentPage=0;}o.prototype.update=function(r){if(typeof r=="undefined"){r=this.currentPage;}this.element.get("#dot"+this.currentPage+"").removeClass("dotActive");this.element.get("#dot"+r+"").addClass("dotActive");this.currentPage=r;};}});(window.gloader||glow).module({name:"glow.widgets.Editor",library:["glow","1.5.1"],depends:[["glow","1.5.1","glow.dom","glow.events","glow.widgets"]],builder:function(l){var h=l.dom.get,c=l.events;l.widgets.Editor=function(z,A){z=h(z);if(!n){n=g();}A=this._opts=l.lang.apply({toolset:"basic"},A);this.element=l.dom.create('<div class="glow151-editor"><p class="glow151-hidden">You are about to enter a Rich Text Editor, <a href="#endOfEditor'+u()+'" tabindex="0">Skip past</a></p><div class="editor-'+(A.theme||"light")+'"><div class="editor-state"></div></div><p id="endOfEditor'+u()+'" class="glow151-hidden endOfEditorCounter" tabindex="0">You have left the Rich Text Editor</p></div>');this.textarea=z;this.toolbar=new l.widgets.Editor.Toolbar(this);if(this._opts.toolset=="basic"){this.toolbar._addToolset("italics","bold","strike");}else{throw new Exception("Unknown toolset name.");}this.editArea=new l.widgets.Editor.EditArea(this);this.cleaner=new v();if(!x()){m.apply(this);f.apply(this,[]);}};var u=function(){return l.dom.get("p.endOfEditorCounter").length+1;};var r=function(C,A,F,E){E=this._opts=l.lang.apply({onFire:function(){}},E);var D=this;this.attachTo=C;this.name=A;this.wait=F;this.callback=E.onFire;this.rate=E.rate;this.running=false;this.initiated=false;if(typeof this.name.pop=="undefined"){this.name=[this.name];}for(var B=0,z=this.name.length;B<z;B++){var A=this.name[B];l.events.addListener(this.attachTo,A,function(){clearInterval(D.intervalId);clearTimeout(D.timeoutId);D._tick();});}this._start();};r.prototype.disabled=function(z){if(typeof z=="undefined"){return !this.running;}else{if(z){this._stop();}else{this._start();}}};r.prototype._tick=function(){var z=this;this.timeoutId=setTimeout(function(){if(typeof z.rate!="undefined"){z.intervalId=setInterval(z.callback,z.rate);}else{z.callback();}},z.wait);};r.prototype._start=function(){if(this.running){return;}this._tick();this.running=true;};r.prototype._stop=function(){if(!this.running){return;}clearInterval(this.intervalId);clearTimeout(this.timeoutId);this.running=false;};function m(){var A=this.textarea.offset();var z=(this.textarea[0].offsetHeight>142)?this.textarea[0].offsetHeight:142;this.element.css("width",(this.textarea[0].offsetWidth-2)+"px");this.element.css("height",(z-2)+"px");}var f=function(){this.textarea.before(this.element);this.element.get("iframe").css("height",(parseInt(this.element.css("height"))-42));this.textarea.css("display","block");this.textarea.css("position","absolute");this.textarea.css("left","-9999px");this.textarea.css("top","-9999px");this.bound=true;};l.widgets.Editor.prototype.inject=function(z){this.editArea._setContent(this.cleaner.dirty(this.cleaner.clean(z)));};l.widgets.Editor.prototype.commit=function(){if(this.bound){h(this.textarea).val(this.cleaner.clean(this.editArea._getContent()));}l.events.fire(this,"commit",{});};function v(z){this.opts=z||{};this.whitelist=["em","strong","strike","p","br","blockquote"];}v.prototype.pretreat=function(z){z=z.replace(/<!--[\s\S]*?-->/g,"");z=z.replace(/<style\b[\s\S]*?<\/style>/gi,"");z=z.replace(/<script\b[\s\S]*?<\/script>/gi,"");return z;};v.prototype.clean=function(C){var B="",A=[];C=this.pretreat(C);while(C){var D=1;if(/^(<[^>]+>)/.test(C)){var z=new v.Tag(RegExp.$1);this.tagClean(z);if(z.clean&&z.opening){B+=z.clean.start;if(!z.unary){A.unshift(z);}D=z.text.length;}else{if(A[0]&&C.toLowerCase().indexOf(A[0].end)===0){B+=A[0].clean.end;D=A[0].end.length;A.shift();}else{B+=z;D=z.text.length;}}}else{B+=C.charAt(0);}C=C.substring(D);}B=this.spin(B);return B;};v.prototype.dirty=function(z){var A;if(l.env.gecko){A=z.replace(/<strong>/g,'<b _moz_dirty="">').replace(/<\/strong>/g,"</b>").replace(/<em>/g,'<i _moz_dirty="">').replace(/<\/em>/g,"</i>").replace(/<strike>/g,'<strike _moz_dirty="">');}else{if(l.env.ie||l.env.opera){A=z.replace(/<strong>/g,"<STRONG>").replace(/<\/strong>/g,"</STRONG>").replace(/<em>/g,"<EM>").replace(/<\/em>/g,"</EM>").replace(/<strike>/g,"<STRIKE>").replace(/<\/strike>/g,"</STRIKE>");}else{if(l.env.webkit>528){A=z.replace(/<strong>/g,"<b>").replace(/<\/strong>/g,"</b>").replace(/<em>/g,"<i>").replace(/<\/em>/g,"</i>").replace(/<strike>/g,'<span class="Apple-style-span" style="text-decoration: line-through;">').replace(/<\/strike>/g,"</span>");}else{if(l.env.webkit){A=z.replace(/<strong>/g,'<span class="Apple-style-span" style="font-weight: bold;">').replace(/<\/strong>/g,"</span>").replace(/<em>/g,'<span class="Apple-style-span" style="font-style: italic;">').replace(/<\/em>/g,"</span>").replace(/<strike>/g,'<span class="Apple-style-span" style="text-decoration: line-through;">').replace(/<\/strike>/g,"</span>");}else{throw new Error("Can't be dirty: Unknown browser.");}}}}return A;};v.prototype.spanClean=function(z){var A={start:"",end:""};if(/\bstyle\s*=\s*"(.+)"/.test(z.attrText.toLowerCase())){if(RegExp.$1.indexOf("bold")>-1){A.start+="<strong>";A.end="</strong>"+A.end;}if(RegExp.$1.indexOf("font-weight: normal")>-1){A.start+="</strong>";A.end="<strong>"+A.end;}if(RegExp.$1.indexOf("italic")>-1){A.start+="<em>";A.end="</em>"+A.end;}if(RegExp.$1.indexOf("font-style: normal")>-1){A.start+="</em>";A.end="<em>"+A.end;}if(RegExp.$1.indexOf("line-through")>-1){A.start+="<strike>";A.end="</strike>"+A.end;}}return A;};v.prototype.tagClean=function(z){var A=["",""];if(z.name=="span"){A=this.spanClean(z);}else{if(z.name=="b"){A={start:"<strong>",end:"</strong>"};}else{if(z.name=="i"){A={start:"<em>",end:"</em>"};}}}if(A.start){z.clean=A;}};v.Tag=function(z){/^<(\/?)([a-zA-Z]+)\b(.*)( ?\/)?>$/.exec(z);this.closing=!!RegExp.$1;this.opening=!this.closing;this.unary=!!RegExp.$4;this.name=RegExp.$2.toLowerCase();this.attrText=RegExp.$3;this.text=z;this.start=z.replace(/^<(\/?)([a-zA-Z]+)\b/,"<$1"+this.name);if(this.opening&&!this.unary){this.end="</"+this.name+">";}};v.Tag.prototype.toString=function(){return"<"+RegExp.$1+this.name+RegExp.$4+">";};v.prototype.spin=function(A){var z=this.whitelist.join("|");var B=new RegExp("<(\\/?("+z+")\\b[^>]*)>","g");A=A.replace(B,"\x1D$1\x1D");A=A.replace(/<[^>]+>/g,"");A=A.replace(/\x1D([^\x1D]+)\x1D/g,"<$1>");A=A.replace(/<>/g,"");return A;};l.widgets.Editor.Toolbar=function(z,A){A=A||{};this.editor=z;this.element=l.dom.create('<fieldset class="editor-toolbar"><ul class="editor-toolbar-tools"></ul></fieldset>');this._tools=[];this.editor.element.get(".editor-state").prepend(this.element);};l.widgets.Editor.Toolbar.prototype._addToolset=function(){var C;for(var B=0,A=arguments.length;B<A;B++){if((C=n[arguments[B]])){var z=new l.widgets.Editor.Toolbar.Button(C.name,C.opts);b.call(this,z);}}q.apply(this);return this;};l.widgets.Editor.blackList={FORM:true,TABLE:true,TBODY:true,CAPTION:true,TH:true,TR:true,TD:true,SCRIPT:true,STYLE:true,INPUT:true,BUTTON:true,OBJECT:true,EMBED:true,SELECT:true,H1:true,H2:true,H3:true,H4:true,H5:true,H6:true,DIV:true,ADDRESS:true,CENTER:true,PRE:true,CODE:true,A:true,UL:true,OL:true,LI:true,DL:true,DT:true,DD:true,ABBR:true,ACRONYM:true,DFN:true,INS:true,DEL:true,SAMP:true,VAR:true,BIG:true,SMALL:true,BLINK:true,MARQUEE:true,FONT:true,Q:true,U:true,KBD:true,SUB:true,SUP:true,CITE:true,HTML:true,BODY:true,FIELDSET:true,LEGEND:true,LABEL:true,TEXTAREA:true,HR:true,IMG:true,IFRAME:true,ILAYER:true,LAYER:true};l.widgets.Editor.prototype._rinse=function(){if(this._lastRinse==this.editArea._getContent()){return;}var B=this.editArea.contentWindow.document;var A=B.body;var z=this;function C(E){if(E.childNodes){for(var D=0;D<E.childNodes.length;D++){var G=l.widgets.Editor.blackList[E.childNodes[D].nodeName];if(E.nodeType==1){if(G){var F=B.createElement("SPAN");F.innerHTML=z.cleaner.clean(E.childNodes[D].innerHTML+" ");E.replaceChild(F,E.childNodes[D]);}else{if(E.childNodes[D].nodeName=="P"){E.childNodes[D].removeAttribute("style");}if(E.childNodes[D].nodeName=="SPAN"){if(/font-size/.test(E.childNodes[D].getAttribute("style"))){E.childNodes[D].removeAttribute("style");}}C(E.childNodes[D]);}}}}else{if(l.widgets.Editor.blackList[E.nodeName]){E.parentNode.removeChild(E);}}}C(A);this._lastRinse=this.editArea._getContent();};function b(z){z.editor=this.editor;this._tools.push(z);this.element.get(".editor-toolbar-tools").append(z.element);}l.widgets.Editor.Toolbar.prototype.addButton=function(A,B){var z=new l.widgets.Editor.Toolbar.Button(A,B,this);b.call(this,z);return this;};l.widgets.Editor.Toolbar.prototype.getTool=function(z){var A=this._tools.length;while(--A>=0){if(this._tools[A].name==z){return this._tools[A];}}};l.widgets.Editor.Toolbar.prototype._update=function(B){var C=false;for(var A=0,z=this._tools.length;A<z;A++){if(B.indexOf("|"+this._tools[A].tag+"|")>-1){this._tools[A].activate();C=true;}else{this._tools[A].deactivate();}}return C;};l.widgets.Editor.Toolbar.prototype._shortcut=function(A){var z=this._tools.length;var B=false;while(--z>=0){if(this._tools[z].shortcut==A){this._tools[z].press();return true;}}return false;};l.widgets.Editor.Toolbar.Tool=function(z,B,A){this.name=z;this.opts=B||{};this.action=this.opts.action||function(){};this.tag=this.opts.tag;this.command=this.opts.command;this.shortcut=this.opts.shortcut;this.isActive=false;this.isEnabled=true;if(this.opts.onDeactivate){l.events.addListener(this,"deactivate",this.opts.onDeactivate,A);}if(this.opts.onActivate){l.events.addListener(this,"activate",this.opts.onActivate,A);}if(this.opts.onDisable){l.events.addListener(this,"disable",this.opts.onDisable,A);}if(this.opts.onEnable){l.events.addListener(this,"enable",this.opts.onEnable,A);}};l.widgets.Editor.Toolbar.Tool.prototype.activate=function(){this.isActive=true;l.events.fire(this,"activate");};l.widgets.Editor.Toolbar.Tool.prototype.deactivate=function(){this.isActive=false;l.events.fire(this,"deactivate");};l.widgets.Editor.Toolbar.Tool.prototype.disable=function(){this.isEnabled=false;l.events.fire(this,"disable");};l.widgets.Editor.Toolbar.Tool.prototype.enable=function(){this.isEnabled=true;l.events.fire(this,"enable");};l.widgets.Editor.Toolbar.Tool.prototype.press=function(){if(this.isEnabled){this.action.call(this);if(!this.isActive){this.activate();}else{this.deactivate();}this.editor._lastDomPath=null;}};l.widgets.Editor.Toolbar.Button=function(A,D){this.Base=arguments.callee.base;this.base=this.Base.prototype;this.Base.apply(this,arguments);var z=A.toLowerCase()+"-button";this.element=l.dom.create('<li class="editor-toolbar-item"><span class="editor-toolbar-button"><a href="#" title="'+(D.title||A)+'" tabindex="-1"><span class="editor-toolbar-icon '+z+'"><span>'+(D.label||A)+"</span></span></a></span></li>");var E=this.element.get("a");this.icon=this.element.get(".editor-toolbar-icon");var B;l.events.addListener(this.icon,"mouseover",function(){if(this.isEnabled&&!this.isActive){E.addClass("hover");}},this);l.events.addListener(E,"focus",function(){if(this.isEnabled){E.addClass("hover");}B=p(this);},this);l.events.addListener(this.icon,"mouseout",function(){E.removeClass("hover");},this);l.events.addListener(E,"blur",function(){E.removeClass("hover");l.events.removeListener(B);},this);l.events.addListener(this,"disable",function(){E.addClass("disabled");},this);l.events.addListener(this,"enable",function(){E.removeClass("disabled");},this);l.events.addListener(this,"activate",function(){if(this.isEnabled){E.addClass("active");}},this);l.events.addListener(this,"deactivate",function(){E.removeClass("active");},this);var C=this;l.events.addListener(this.element.get("a"),"mousedown",function(){C.press();return false;},this);l.events.addListener(this.element.get("a"),"click",function(){return false;});};l.lang.extend(l.widgets.Editor.Toolbar.Button,l.widgets.Editor.Toolbar.Tool);l.widgets.Editor.Toolbar.Button.prototype.activate=function(){this.base.activate.apply(this,arguments);};l.widgets.Editor.Toolbar.Button.prototype.deactivate=function(){this.base.deactivate.apply(this,arguments);};l.widgets.Editor.Toolbar.Button.prototype.enable=function(z){this.base.enable.apply(this,arguments);};l.widgets.Editor.Toolbar.Button.prototype.disable=function(z){this.base.disable.apply(this,arguments);};function p(z){return l.events.addListener(l.dom.get(document),"keyup",function(A){if(A.key=="ENTER"){z.press();if(A.preventDefault){A.preventDefault();}return false;}});}var n;function g(){return{bold:new l.widgets.Editor.Toolbar.Button("bold",{title:"Bold",label:"B",tag:"strong",command:"bold",shortcut:"b",action:function(){y.call(this.editor.editArea,this.command);return false;}}),italics:new l.widgets.Editor.Toolbar.Button("italics",{title:"Italics",label:"I",tag:"em",command:"italic",shortcut:"i",action:function(){y.call(this.editor.editArea,this.command);return false;}}),strike:new l.widgets.Editor.Toolbar.Button("strike",{title:"Strikethrough",label:"Strike",tag:"strike",command:"strikethrough",action:function(){y.call(this.editor.editArea,this.command);return false;}})};}l.widgets.Editor.EditArea=function(z,B){B=B||{};this.editor=z;this.element=h(document.createElement("iframe"));this.element.attr("frameBorder",0);this.element.src="javascript:false";this.editor.element.get(".editor-state").append(this.element);var A=this;setTimeout(function(){A.element[0].contentWindow.document.designMode="on";A.contentWindow=A.element[0].contentWindow;if(A.editor.textarea.val()){A.contentWindow.document.write(A.editor.textarea.val());}else{A.contentWindow.document.write("<p>&nbsp;</p>");}A.contentWindow.document.close();A.editor.iframeFocus=false;i.call(A);k(A);if(l.env.ie||l.env.opera){l.dom.get(A.element[0].contentWindow.document).item(0).attachEvent("onclick",function(){a.call(A);});l.dom.get(A.element[0].contentWindow.document).item(0).attachEvent("onkeyup",function(){a.call(A);});}else{c.addListener(A.contentWindow,"blur",function(){a.call(A);});c.addListener(A.contentWindow,"click",function(){a.call(A);});c.addListener(A.contentWindow,"mouseup",function(){a.call(A);});c.addListener(A.contentWindow,"keyup",function(){a.call(A);});}if(l.env.gecko){A.contentWindow.document.execCommand("styleWithCSS",false,false);}c.addListener(A.element[0].contentWindow,"beforeunload",function(){A.editor.commit();return true;});c.addListener(window,"beforeunload",function(){A.editor.commit();return true;});A._toolbarInTabIndex=false;l.events.addListener(A.editor.element.get(".editor-state"),"click",function(){q.apply(A);},A);if(!isNaN(l.env.ie)){A.contentWindow.attachEvent("onfocus",function(){q.apply(A);},A);}else{A.contentWindow.addEventListener("focus",function(){q.apply(A);},A);}if(A.editor.bound){A.idler=new r(A.contentWindow,["mousedown","keypress"],350,{onFire:function(){A.editor._rinse();},rate:700});}},0);};function q(){if(this.editor._toolbarInTabIndex==true){return;}this.editor.toolbar.element.get("a").item(0).tabIndex=0;this.editor._toolbarInTabIndex=true;}function i(){if(!isNaN(l.env.ie)){l.dom.get(this.contentWindow.document).item(0).attachEvent("onkeydown",(function(z){return function(A){A=A||window.event;return d.call(z,A);};})(this));}else{if(!isNaN(l.env.opera)){l.dom.get(this.contentWindow.document).item(0).addEventListener("keypress",(function(z){return function(A){A=A||window.event;return d.call(z,A);};})(this),true);}else{l.dom.get(this.contentWindow.document).item(0).addEventListener("keydown",(function(z){return function(A){A=A||window.event;return d.call(z,A);};})(this),true);}}}function d(z){if((navigator.platform.toLowerCase().indexOf("mac")==-1)||isNaN(l.env.webkit)){if((z.keyCode==9)&&(z.shiftKey==true)){var A=l.dom.get(this.editor.element).get("ul.editor-toolbar-tools a");A.each(function(B){if(A[B].tabIndex==0){window.focus();A[B].focus();}});if(z.preventDefault){z.preventDefault();}return false;}if((z.keyCode==9)){window.focus();this.element[0].focus();l.dom.get(this.editor.element).get("p.endOfEditorCounter").item(0).focus();if(z.preventDefault){z.preventDefault();}return false;}}if(o.call(this,z)){if((this.editor.toolbar._shortcut(String.fromCharCode(z.keyCode).toLowerCase()))||(String.fromCharCode(z.keyCode).toLowerCase()=="u")){if(z.preventDefault){z.preventDefault();}return false;}}return true;}function o(z){if(navigator.platform.toLowerCase().indexOf("mac")!=-1){if(!isNaN(l.env.opera)){return z.ctrlKey;}return z.metaKey;}else{return z.ctrlKey;}}function x(){if((l.env.webkit>400)&&(l.env.webkit<500)){return true;}else{return false;}}function k(A){var z,C,B=A.editor.toolbar.element.get("a");l.events.addListener(l.dom.get(B),"focus",function(){C=l.events.addKeyListener("RIGHT","down",s);z=l.events.addKeyListener("LEFT","down",t);});l.events.addListener(l.dom.get(B),"blur",function(){l.events.removeListener(C);l.events.removeListener(z);});}function t(z){w(e(l.dom.get(z.source),-1));}function s(z){w(e(l.dom.get(z.source),1));}function e(D,z){var A=0,B=l.dom.get(D).parent().parent().parent().get("a"),C=(B.length-1);B.each(function(E){if(this==D.item(0)){A=(E+z);}this.tabIndex=-1;});if(A<0){A=0;}if(A>C){A=C;}return B.item(A);}function w(z){if(typeof z!="undefined"){z.tabIndex=0;z.focus();}}function y(A,z){z=z||null;if(this[A+"_"+z]){this[A+"_"+z]();}else{this._domPath();this.contentWindow.document.execCommand(A,false,null);}this.contentWindow.focus();a.call(this);}l.widgets.Editor.EditArea.prototype._getSelected=function(){if(l.env.ie){return this.contentWindow.document.selection;}else{return this.contentWindow.getSelection();}};function a(){this.editor.commit();var A=this._domPath();if(A!=this.editor._lastDomPath){this.editor._lastDomPath=A;var z=l.events.fire(this,"domPathChange",{domPath:A});if(!z.defaultPrevented()){this.editor.toolbar._update(A);}}}l.widgets.Editor.EditArea.prototype._domPath=function(C){C=C||this._getSelectedNode();var A=l.dom.get(this.editor.editArea.contentWindow.document).get("body").item(0);var z="";while(C.nodeName.toUpperCase()!=A.nodeName.toUpperCase()){z="<"+C.nodeName.toLowerCase()+((C.getAttribute("style"))?' style="'+C.getAttribute("style")+'"':"")+">"+z;C=C.parentNode;}var B=this.editor.cleaner.clean(z);B=B.replace(/></g,"|").replace(/>/g,"|").replace(/</g,"|");B=B.replace(/\|\/[^\|]+\|/g,"|");return B;};l.widgets.Editor.EditArea.prototype._getSelectedNode=function(){if(!l.env.ie){selectedNode=this._getSelected().getRangeAt(0).commonAncestorContainer;if(selectedNode.nodeType===3){return selectedNode.parentNode;}else{return selectedNode;}}else{return this._getSelected().createRange().parentElement();}};l.widgets.Editor.EditArea.prototype._nodeAt=function(C){var B=this.contentWindow;var E=B.document;var A=0;var D=E.body;function F(J,H){if(J.nodeName=="#text"){A+=J.nodeValue.length;if(A>=H){return J.parentNode;}}if(J.childNodes){for(var I=0;I<J.childNodes.length;I++){var G=F(J.childNodes[I],H);if(G){return G;}}}}var z=F(D,C);return z;};l.widgets.Editor.EditArea.prototype._getContent=function(){return this.contentWindow.document.body.innerHTML;};l.widgets.Editor.EditArea.prototype._setContent=function(z){this.contentWindow.document.body.innerHTML=z;};l.widgets.Editor.EditArea.prototype._select=function(){var A=this.contentWindow;A.focus();if(l.env.ie){B=A.document.body.createTextRange();B.moveEnd("textedit");B.select();}else{var B=A.document.createRange();B.selectNodeContents(A.document.body.firstChild.childNodes[0]);var z=A.getSelection();z.removeAllRanges();A.getSelection().addRange(B);}};}});(window.gloader||glow).module({name:"glow.widgets.Timetable",library:["glow","1.5.1"],depends:[["glow","1.5.1","glow.dom","glow.events","glow.widgets","glow.widgets.Slider","glow.dragdrop"]],builder:function(o){var e=o.dom,h=e.get,w=e.create,i=o.events,u=i.addListener,f=i.fire,g=o.lang,l=g.apply,t=0,A={ACCESSIBILITY_MENU_START:"Start",ACCESSIBILITY_MENU_END:"End",ACCESSIBILITY_INTRO:"Use this menu to choose what section of the timetable to view.",SKIPLINK_TO_TRACK:"skip to track data",SKIPLINK_BACK_TO_HEADERS:"back to track headers"},m=[{length:"width",breadth:"height",rootClass:"glow151-Timetable",dragAxis:"x",pos:"left",posOpposite:"right",otherPos:"top",otherPosOpposite:"bottom"},{length:"height",breadth:"width",rootClass:"glow151-vTimetable",dragAxis:"y",pos:"top",posOpposite:"bottom",otherPos:"left",otherPosOpposite:"right"}];function r(){return o.UID+"TimetableWidget"+(t++);}function q(){return m[!!this._opts.vertical*1];}function v(E){return function(F){if(F instanceof Date){return new Date(F.getTime()+E);}else{return F+E;}};}function y(E){switch(E){case"am/pm":return v(43200000);case"hour":return v(3600000);case"day":return v(86400000);case"week":return v(604800000);case"month":return function(F){var G=new Date(F);G.setMonth(G.getMonth()+1);return G;};case"year":return function(F){var G=new Date(F);G.setFullYear(G.getFullYear()+1);return G;};default:if(E instanceof Function){return E;}else{if(isNaN(E)){throw new Error("Can't create incrementer");}else{return v(parseInt(E));}}}}function s(K,I,E,L){if(K instanceof Array){if(!this.numerical){return o.lang.map(K,function(O){return new Date(O);});}return K;}var G,H,N,F,J=1,M=y(K);if(I=="auto"){N={"am/pm":43200000,hour:3600000,day:86400000};switch(K){case"am/pm":case"hour":case"day":F=new Date(N[K]*Math.floor(E.valueOf()/N[K]));break;case"week":F=new Date(E);F.setHours(0,0,0,0);F.setDate(F.getDate()-F.getDay());break;case"month":F=new Date(E);F.setHours(0,0,0,0);F.setDate(1);break;case"year":F=new Date(E);F.setHours(0,0,0,0);F.setMonth(0,1);break;default:F=E;}}else{F=I||E;}H=[F];while(F<L){F=M(F);H[J++]=F;}return H;}function p(F){var E,G;if(F==undefined){return null;}if(F instanceof e.NodeList){E=F;}else{if(F instanceof Function){E=F(this);}else{E=g.interpolate(""+F,this);}}if(E instanceof e.NodeList){G=e.create("<div></div>").append(E);}else{G=e.create("<div>"+E+"</div>");}return G;}function c(F,G,J,L,M,E){this._opts=E=l({vertical:true,tracks:[],collapseItemBorders:true,collapseTrackBorders:false,keepItemContentInView:true,className:"",theme:"light"},E||{});var I=q.call(this);this._container=h(F);if(!this._container[0]){throw new Error("Could not find container for Timetable");}this.id=E.id||r();this.size=E.size||this._container[I.length]();this.numerical=((typeof G)=="number");this.start=G;this.end=J;this._viewStart=L;this._viewEnd=M;if(!this.numerical){this.start=new Date(G);this.end=new Date(J);this._viewStart=new Date(L);this._viewEnd=new Date(M);}this._viewWindowSize=this._viewEnd-this._viewStart;this.tracks=[];for(var K=0,H=E.tracks.length;K<H;K++){this.addTrack.apply(this,E.tracks[K]);}if(E.onChange){u(this,"change",E.onChange);}if(E.onItemClick){u(this,"itemClick",E.onItemClick);}if(E.onMoveStart){u(this,"moveStart",E.onMoveStart);}if(E.onMoveStop){u(this,"moveStop",E.onMoveStop);}this.element;this._view=new z(this);this._banding=[];this._primaryScales=[];this._secondaryScales=[];this._primaryScrollbar=null;this._secondaryScrollbar=null;}c.prototype={addTrack:function(G,E,F){return this.tracks[this.tracks.length]=new C(this,G,E,F);},currentPosition:function(E){if(E===undefined){var F=(this._view)?this._view.currentPosition():this._viewStart;if(!this.numerical){F=new Date(F);}return F;}else{if(!this.numerical){E=new Date(E);}this._view.currentPosition(E);return this;}},viewRange:function(F){var H=this._viewEnd-this._viewStart,G=this.currentPosition(),E={start:G,end:G.valueOf()+H};if(!this.numerical){E.end=new Date(E.end);}if(F){this._viewStart=F.start||E.start;this._viewEnd=F.end||E.end;if(!this.numerical){this._viewStart=new Date(this._viewStart);this._viewEnd=new Date(this._viewEnd);}if(this._viewStart<this.start){this._viewStart=this.start;}if(this._viewEnd>this.end){this._viewEnd=this.end;}if(this._view&&this._view._drawn){this.draw(true).currentPosition(this._viewStart);}return this;}else{return E;}},setItemTemplate:function(E){this._opts.itemTemplate=E;return this;},setTrackHeaderTemplate:function(E){this._opts.trackHeader=E;return this;},setTrackFooterTemplate:function(E){this._opts.trackFooter=E;return this;},setBanding:function(G,F){var E=F||{};this._banding=s.call(this,G,E.start||"auto",this.start,this.end);return this;},addScale:function(G,E,I,J){var H=J||{},F={template:H.template,size:I,points:s.call(this,G,H.start||"auto",this.start,this.end),opts:H};E=E.toLowerCase();if((E=="both")&&H.id){throw new Error("Cannot apply an id when adding to both sides of the timetable");}if((E=="top")||(E=="left")||(E=="both")){this._primaryScales[this._primaryScales.length]=F;}if((E=="bottom")||(E=="right")||(E=="both")){this._secondaryScales[this._secondaryScales.length]=F;}return this;},removeScales:function(E){if((E=="top")||(E=="left")||(E=="both")){this._primaryScales=[];}if((E=="bottom")||(E=="right")||(E=="both")){this._secondaryScales=[];}return this;},addScrollbar:function(I,E,H,J){var G=l({buttons:true},J||{}),F={template:G.template,size:H,points:s.call(this,I,G.start||"auto",this.start,this.end),opts:G};E=E.toLowerCase();if((E=="both")&&G.id){throw new Error("Cannot apply an id when adding to both sides of the timetable");}if((E=="top")||(E=="left")||(E=="both")){this._primaryScrollbar=F;}if((E=="bottom")||(E=="right")||(E=="both")){this._secondaryScrollbar=F;}return this;},draw:function(E){this._view.draw(E);return this;}};function C(J,I,G,H){this._opts=H=l({className:""},H||{});this.disabled=H.disabled||false;this.data=H.data||{};this.title=I;this.size=G;this.timetable=J;this.id=H.id||r();this.items=[];if(H.items!=undefined){for(var F=0,E=H.items.length;F<E;F++){B.apply(this,H.items[F]);}n.call(this);}}function B(G,H,E,F){return this.items[this.items.length]=new d(this,G,H,E,F);}function D(F,E){return((F.start-E.start)||(F._addIndex-E._addIndex));}function n(){this.items.sort(D);}function x(L,F,I){if(((typeof L)=="number")!==this.timetable.numerical){throw new Error("Cannot get Item(s) - point(s) not in the correct scale type.");}var G=this.items,K={items:[],indices:[]},H=0;if(!this.timetable.numerical){L=new Date(L);F=new Date(F);}for(var J=0,E=G.length;J<E;J++){if(G[J].start>F){break;}if(I.call(G[J],L,F)){K.items[H]=G[J];K.indices[H]=J;H++;}}return K;}function k(F,E){return((this.start>=F)&&(this.end<=E));}function b(F,E){return((this.start<E)&&(this.end>F));}function a(E){return((this.start<=E)&&(this.end>E));}C.prototype={toString:function(){return this.title;},addItem:function(H,I,E,F){var G=B.call(this,H,I,E,F);n.call(this);return G;},itemAt:function(E){return x.call(this,E,E,a).items[0];},indexAt:function(E){return x.call(this,E,E,a).indices[0];},itemsAt:function(E){return x.call(this,E,E,a).items;},indicesAt:function(E){return x.call(this,E,E,a).indices;},itemsInRange:function(F,E){return x.call(this,F,E,b).items;},indicesInRange:function(F,E){return x.call(this,F,E,b).indices;},setItemTemplate:function(E){this._opts.itemTemplate=E;return this;},setTrackHeaderTemplate:function(E){this._opts.trackHeader=E;return this;},setTrackFooterTemplate:function(E){this._opts.trackFooter=E;return this;},getHeader:function(){return p.call(this,this._opts.trackHeader||this.timetable._opts.trackHeader);},getFooter:function(){return p.call(this,this._opts.trackFooter||this.timetable._opts.trackFooter);}};function d(F,H,I,E,G){this._addIndex=F.items.length;this._opts=G=l({className:""},G||{});if(((typeof I)=="number")!==F.timetable.numerical){throw new Error("Item scale type does not match Timetable.");}this.data=G.data||{};this.title=H;this.start=I;this.end=E;if(!F.timetable.numerical){this.start=new Date(I);this.end=new Date(E);}this.track=F;this.id=G.id||r();this.element;}d.prototype={toString:function(){return this.title;},setItemTemplate:function(E){this._opts.itemTemplate=E;return this;},getContent:function(){return p.call(this,this._opts.itemTemplate||this.track._opts.itemTemplate||this.track.timetable._opts.itemTemplate);},inRange:function(F,E){if(!this.track.timetable.numerical){F=new Date(F);E=new Date(E);}return b.call(this,F,E);}};o.widgets.Timetable=c;o.widgets.Timetable.Track=C;o.widgets.Timetable.Item=d;var z;(function(){var R='<div><div class="timetable-theme"><div class="timetable-state"><div class="timetable-container"><div class="timetable-accessibility-navigation">'+A.ACCESSIBILITY_INTRO+'</div><div class="timetable-track-headers" role="presentation" id="'+o.UID+'TimetableWidgetHeaders"></div><div class="timetable-scrollView"><div class="timetable-scrollbar1"></div><div class="timetable-innerView"><div class="timetable-dragRange"><div class="timetable-dragArea" aria-live="polite"></div></div></div><div class="timetable-scrollbar2"></div></div><div class="timetable-track-footers" role="presentation" id="'+o.UID+'TimetableWidgetFooters"></div></div></div></div></div>',I='<div class="timetable-header-holder"></div>',an='<div class="timetable-footer-holder"></div>',am='<div class="timetable-track"><ol class="timetable-trackList"></ol></div>',W='<li class="timetable-item" tabindex="0"></li>',S='<div class="timetable-scale"></div>',ah='<div class="timetable-scaleItem"></div>',ab=e.create("<div></div>"),Q=10;function al(aq){if(!this._clickStart){this._clickStart=[aq.pageX,aq.pageY];}else{if(!this._cancelNextItemClick&&(Math.abs(this._clickStart[0]-aq.pageX)>Q||Math.abs(this._clickStart[1]-aq.pageY)>Q)){this._cancelNextItemClick=true;}}E.call(this,this.currentPosition());}function J(ar){if(this._cancelNextItemClick){return false;}var aq=h(ar.source);while(aq[0]!=ar.attachedTo){if(aq.hasClass("timetable-item")){f(this._timetable,"itemClick",l({item:this.itemInstance[aq[0].id]},new i.Event(ar)));}aq=aq.parent();}}function Z(){f(this._timetable,"moveStart");}function E(at){var ar=this._timetable,aq=q.call(ar);this._dragAreaElm.css(aq.pos,-(af.call(this,at)));if(this._scrollbar1){this._scrollbar1.moveToPosition(at);}if(this._scrollbar2){this._scrollbar2.moveToPosition(at);}}function ak(){f(this._timetable,"moveStop");}function G(){H.call(this);Y.call(this);}function H(){var ax=this._timetable,ar=q.call(ax),au=0,ay=ax.tracks.length,aC,at,aq,aA,az=ax.currentPosition(),aw,av,aB=parseInt(this._dragAreaElm[0].style[ar.pos]);if(this._timetable._opts.keepItemContentInView){this._itemContentHangingOffStart.css("margin-"+ar.pos,0);this._itemsHangingOffStart.removeClass("timetable-itemHangingClipping");}this._itemsHangingOffStart.removeClass("timetable-itemHangingOffStart");this._itemContentHangingOffStart=new e.NodeList();this._itemsHangingOffStart=new e.NodeList();for(;au<ay;au++){aC=ax.tracks[au].itemAt(az);if(!aC||aC.start.valueOf()==az.valueOf()){continue;}aA=aC.id;aq=this.itemContent[aA];at=this.items[aA];this._itemContentHangingOffStart.push(aq);this._itemsHangingOffStart.push(at);if(this._timetable._opts.keepItemContentInView){aw=parseInt(at[0].style[ar.pos]);av=-aB-aw;aq.css("margin-"+ar.pos,av);if(at[ar.length]()<(aq[ar.length]()+av)){at.addClass("timetable-itemHangingClipping");}}}this._itemsHangingOffStart.addClass("timetable-itemHangingOffStart");}function af(aq){return(aq-this._timetable.start)/this.scale;}function ai(aq){return(aq*this.scale)+this._timetable.start.valueOf();}function Y(){var ar=this._timetable,aq=ar.currentPosition();if(aq.valueOf()!=this._posBeforeMove.valueOf()){f(ar,"change");this._posBeforeMove=aq;aj.call(this);}}function U(ay,ar){var at=this._timetable,aq=q.call(at),az=af.call(this,ay.start),au=af.call(this,ay.end)-az,aw=e.create(W),av=ay.getContent()||N(ay);aw.attr("id",ay.id);av[0].className="timetable-itemContent "+ay._opts.className;var ax=this;ay.element=this.items[ay.id]=aw;this.itemContent[ay.id]=av;this.itemInstance[ay.id]=ay;au-=ar*((!at._opts.collapseItemBorders)+1);aw.css(aq.pos,az).css(aq.length,au);aw.append(av);return aw;}function N(aq){return w("<div>"+aq.title+"</div>");}function F(ar){var ax=this._timetable,au=q.call(ax),az=ar.items,av=0,ay=az.length,aC=this.tracks[ar.id],aw=this._headers[ar.id],aB=this._footers[ar.id],at,aA,aq,aD;if(!aC){aC=this.tracks[ar.id]=O.call(this,ar);aC.css(au.breadth,ar.size);aC.appendTo(this._dragAreaElm);X.call(this,ar);if(aw){aC.prepend(aw.clone().removeClass("timetable-header-holder").addClass("timetable-accessibility-hidden"));}if(aB){aC.append(aB.clone().removeClass("timetable-footer-holder").addClass("timetable-accessibility-hidden"));}}at=aC.get("> ol");aq=e.create(W).appendTo(at);aA=parseInt(aq.css(["border-"+au.pos+"-width","border-"+au.posOpposite+"-width"]))/2;aq.remove();for(;av<ay;av++){aD=ar.items[av];if(!this.items[aD.id]){U.call(this,az[av],aA).appendTo(at);}}}function X(aq){var ar,at=aq.id;ar=aq.getHeader();if(ar){this._headers[at]=e.create(I).append(ar.addClass("timetable-header-content"));this._headerElm.append(this._headers[at]).append('<a class="timetable-accessibility-hidden" href="#'+at+'">'+A.SKIPLINK_TO_TRACK+"</a>");}ar=aq.getFooter();if(ar){this._footers[at]=e.create(an).append(ar.addClass("timetable-footer-content"));this._footerElm.append(this._footers[at]).append('<a class="timetable-accessibility-hidden" href="#'+o.UID+'TimetableWidgetHeaders">'+A.SKIPLINK_BACK_TO_HEADERS+"</a>");}}function O(aq){var ar=e.create(am).attr("id",aq.id);return ar;}function ae(){var av=this._timetable,aq=q.call(av),aH=0,au=av.tracks.length,aL=this._primaryScaleElms.length,aE=this._secondaryScaleElms.length,aC=au+aL+aE,ay,aK,aM,ar=0,aF=0,ax,at,aw=["border-"+aq.otherPos+"-width","border-"+aq.otherPosOpposite+"-width"],aI=0,aJ=av._opts.collapseTrackBorders,aD,az,aA,aB,aG;ax=this._scrollbar1Elm[aq.breadth]()-parseInt(this._headerElm.css("border-"+aq.otherPos+"-width"));for(;aH<aC;aH++){if(aH<aL){ay=this._primaryScaleElms[aH];aK=aM=null;}else{if(aH<aL+au){aG=av.tracks[aH-aL];aB=aG.id;ay=this.tracks[aB];aK=this._headers[aB];aM=this._footers[aB];if(aG.disabled){h(ay,aK,aM).css("display","none");continue;}else{h(ay,aK,aM).css("display","");}}else{ay=this._secondaryScaleElms[aH-aL-au];aK=aM=null;}}aD=parseInt(ay.css(aw))/2;az=aJ?0:parseInt(ay.css("margin-"+aq.otherPosOpposite))||0;aA=parseInt(ay.css(aq.breadth))+(aD*((!aJ)+1))+az;ay.css(aq.otherPos,aI);if(aK){aK.css(aq.otherPos,aI+ax).css(aq.breadth,aG.size+2*aD);ar=Math.max(parseInt(aK.css(aq.length)),ar);}if(aM){aM.css(aq.otherPos,aI+ax).css(aq.breadth,aG.size+2*aD);aF=Math.max(parseInt(aM.css(aq.length)),aF);}aI+=aA;}this._innerViewElm.css(aq.breadth,aI+(aD*aJ)-az);at=aI+(aD*aJ)-az+ax+this._scrollbar2Elm[aq.breadth]();h(this._headerElm,this._footerElm).css(aq.breadth,at-parseInt(this._headerElm.css("border-"+aq.otherPosOpposite+"-width")));this._headerElm.css(aq.length,ar);this._footerElm.css(aq.length,aF);}function M(){var av=this._timetable,aq=q.call(av),au=0,ax=av._banding.length-1,at,ar,aw,ay,az;for(;au<ax;au++){at=av._banding[au].valueOf();aw=av._banding[au+1].valueOf();ar=af.call(this,at);ay=af.call(this,aw)-ar;az=ab.clone().css(aq.pos,ar).css(aq.length,ay).addClass("timetable-band"+(au%2?"Odd":"Even")).appendTo(this._dragAreaElm);}}function aa(aB){var av=this._timetable,ar=q.call(av),aA=w(S).css(ar.breadth,aB.size),at=0,aC=aB.points,ax=aC.length-1,az,au,ay,aw,aq;aA[0].id=aB.opts.id||"";aA[0].className+=" "+(aB.opts.className||"");for(;at<ax;at++){az=aC[at].valueOf();ay=aC[at+1].valueOf();au=af.call(this,az);aw=af.call(this,ay)-au;aq={start:aC[at],end:aC[at+1]};w(ah).append(p.call(aq,aB.template).addClass("timetable-itemContent")).css(ar.pos,au).css(ar.length,aw).appendTo(aA);}return aA;}function ag(){var at=this._timetable,aq=at._primaryScales.length,ar;this._primaryScaleElms=[];this._secondaryScaleElms=[];while(aq--){this._primaryScaleElms[aq]=aa.call(this,at._primaryScales[aq]).addClass("timetable-scalePrimary").appendTo(this._dragAreaElm);}aq=at._secondaryScales.length;ar=aq-1;while(aq--){this._secondaryScaleElms[ar-aq]=aa.call(this,at._secondaryScales[aq]).addClass("timetable-scaleSecondary").appendTo(this._dragAreaElm);}}function K(aq,ar){w('<style type="text/css">'+aq+" { "+ar+" } </style>").appendTo("head");}function ad(){var at=this._timetable,ar=at._primaryScrollbar,aq=at._secondaryScrollbar;if(ar){this._scrollbar1Elm.css("display","block");this._scrollbar1=new ao(this,this._scrollbar1Elm,ar);}this._scrollbar1Elm.css("display",ar?"block":"");if(aq){this._scrollbar2Elm.css("display","block");this._scrollbar2=new ao(this,this._scrollbar2Elm,aq);}this._scrollbar2Elm.css("display",aq?"block":"");}function ap(){var au=this._timetable,ar=q.call(au),at,aq;at=af.call(this,au.end);aq=(at*2)-this._viewSize;this._dragAreaElm[ar.length](at);this._dragRangeElm[ar.length](aq).css("margin-"+ar.pos,-at+this._viewSize);}function V(){var ar=this._timetable,aq=q.call(ar);this._viewSize=this._innerViewElm[aq.length]();this.scale=(ar._viewEnd-ar._viewStart)/this._viewSize;}function T(){var at=this._timetable,ar=q.call(at),aq=this;this._draggable=new o.dragdrop.Draggable(this._dragAreaElm,{axis:ar.dragAxis,container:this._dragRangeElm,placeholder:"none",onDrag:function(){aq._cancelNextItemClick=false;aq._clickStart=0;aq._mouseMoveListener=u(document,"mousemove",al,aq);Z.call(aq);ac.call(aq);},onDrop:function(){ak.call(aq);G.call(aq);aq._mouseMoveListener&&o.events.removeListener(aq._mouseMoveListener);}});}function P(){var ax=this._timetable,az=ax.tracks,ay=az.length,aA=this._inCurrentView,ar=this._innerViewElm,au=null,aB=ax.viewRange(),aw=aB.start,aC=aB.end,aq="",av=0,at=0;if(aA==null){ar.addClass("timetable-hideitems");this._inCurrentView=aA={};}for(aq in aA){if(!aA[aq].inRange(aw,aC)){delete aA[aq];h(aq).css("display","");}}for(j=0;j<ay;j++){au=az[j].itemsInRange(aw,aC);for(av=0,at=au.length;av<at;av++){aq=au[av].id;if(!aA[aq]){aA[aq]=au[av];h("#"+aq).css("display","block");}}}}function ac(){for(id in this._inCurrentView){h("#"+id).css("display","");}this._inCurrentView=null;this._innerViewElm.removeClass("timetable-hideitems");}function L(){var au=this._timetable,aC=au._primaryScales[0]||au._secondaryScales[0]||au._primaryScrollbar||au._secondaryScrollbar;if(aC){var aB=aC.points,at=[],aw=aB.length-1,aq,ar=0,av=this,aA=au.end-au._viewWindowSize,ax='<option value="'+au.start.valueOf()+'">'+A.ACCESSIBILITY_MENU_START+"</option>",az='<option value="'+aA.valueOf()+'">'+A.ACCESSIBILITY_MENU_END+"</option>";for(;ar<aw;ar++){aq={start:aB[ar],end:aB[ar+1]};if((aq.start>=au.start)&&(aq.start<=aA)){at[ar]='<option value="'+aB[ar].valueOf()+'">'+p.call(aq,aC.template).text()+"</option>";if(aq.start.valueOf()==au.start.valueOf()){ax="";}if(aq.start.valueOf()==aA.valueOf()){az="";}}}var ay=this._accessibiltySelect=e.create("<select>"+ax+at.join("")+az+"</select>");u(ay,"change",function(){av._timetable.currentPosition(ay.val()*1);P.call(av);});this._accessibiltyElm.append(ay);aj.call(this);}}function aj(){if(this._accessibiltySelect){var av=this.currentPosition(),ar=this._accessibiltySelect[0].options,au=0,aq=ar.length,aw=ar[au].value*1,at;for(;au<aq;au++){at=ar[au].value*1;if(at<=(av+this.scale)){aw=at;}}this._accessibiltySelect.val(aw);}}z=function(at){var ar=q.call(at),aq=this;this._cancelNextItemClick=false;this._posBeforeMove=at.currentPosition();this._timetable=at;this._headers={};this._footers={};this._inCurrentView=null;this.tracks={};this.items={};this.itemContent={};this.itemInstance={};this.element=e.create(R).attr("id",at.id);this.element[0].className=at._opts.className;this.element.addClass(ar.rootClass);this._headerElm=this.element.get("div.timetable-track-headers");this._footerElm=this.element.get("div.timetable-track-footers");this._accessibiltyElm=this.element.get("div.timetable-accessibility-navigation");this._stateElm=this.element.get("div.timetable-state");this._themeElm=this.element.get("div.timetable-theme");this._innerViewElm=this.element.get("div.timetable-innerView");this._dragRangeElm=this.element.get("div.timetable-dragRange");this._dragAreaElm=this.element.get("div.timetable-dragArea");this._scrollbar1Elm=this.element.get("div.timetable-scrollbar1");this._scrollbar2Elm=this.element.get("div.timetable-scrollbar2");this._themeElm.addClass("timetable-"+at._opts.theme);this._itemsHangingOffStart=new e.NodeList();this._itemContentHangingOffStart=new e.NodeList();u(this._dragAreaElm,"click",J,this);};z.prototype={draw:function(ay){var ax=this._timetable,aw=q.call(ax),ar=ax.size,at=ax.tracks,aq=at.length,av,au=0;if(!this._drawn){this.element.appendTo(ax._container.empty());T.call(this);}if(ay){av=ax.currentPosition();this.tracks={};this.items={};this.itemContent={};this.itemInstance={};this._dragAreaElm.empty();this._scrollbar1Elm.empty();this._scrollbar2Elm.empty();this._headerElm.empty();this._footerElm.empty();this._accessibiltyElm.empty();this._headers={};this._footers={};}if(ay||!this._drawn){this._innerViewElm[aw.length](ar);V.call(this);M.call(this);ad.call(this);ap.call(this);ag.call(this);L.call(this);E.call(this,av||ax._viewStart);}for(au=0;au<aq;au++){F.call(this,at[au]);}ae.call(this);H.call(this);this._drawn=true;return this;},currentPosition:function(ar){var aq=q.call(this._timetable);if(ar===undefined){return ai.call(this,-parseInt(this._dragAreaElm[0].style[aq.pos]));}else{ac.call(this);E.call(this,ar);G.call(this);return this;}},hide:function(){P.call(this);},clear:function(){ac.call(this);}};var ao;(function(){var ar=0;function av(){if(this._ignoreChange){return;}E.call(this._timetable._view,(this._timetable._opts.vertical?-1:1)*this.slider.val());if(!this._isDraggingChange){G.call(this._timetable._view);}}function au(){ac.call(this._timetable._view);this._isDraggingChange=true;Z.call(this._timetable._view);}function aq(){this._isDraggingChange=false;ak.call(this._timetable._view);G.call(this._timetable._view);}function at(){var ax=this._timetable,aw=q.call(ax),ay=parseInt(this._sliderHandle[0].style[aw.pos]);if(this._timetable._opts.vertical){this._labelsHighlight[0].style.clip="rect("+ay+"px, auto, "+(ay+this._handleLength)+"px, auto)";}else{this._labelsHighlight[0].style.clip="rect(auto, "+(ay+this._handleLength)+"px, auto, "+ay+"px)";}}ao=function(aG,aH,aA){var aF=aG._timetable,az=q.call(aF),aN=0,aM=aA.points,aP=aM.length-1,aO,aw,ax,aD,aE,aQ=w('<div class="timetable-scrollbarLabels"></div>'),aI=o.UID+"scrollbar"+(ar++),ay,aB=aF._viewEnd-aF._viewStart,aJ=aF.end-aF.start,aK,aL,aR,aC=aF.viewRange().start;this._timetable=aF;K("#"+aI+" .slider-handle",az.length+":"+(aB/aJ)*100+"%");if(aF._opts.vertical){aK=-aF.end+aB;aL=-aF.start;aR=-aC;}else{aK=aF.start-0;aL=aF.end-aB;aR=aC;}this.slider=new o.widgets.Slider(aH,{min:aK,max:aL,vertical:aF._opts.vertical,className:"timetable-scrollbar",id:aI,val:aR,size:aG._innerViewElm[az.length](),step:0,changeOnDrag:true});ay=this.slider.element.get("div.slider-track");if(aF._opts.vertical){ay.css(az.length,ay.get("div.slider-trackOn").css(az.length));}this.slider.element.get("div.slider-btn-bk, div.slider-btn-fwd").push(ay).css(az.breadth,aA.size);this.scale=(aJ)/ay[az.length]();for(;aN<aP;aN++){aO=aM[aN].valueOf();ax=aM[aN+1].valueOf();aw=af.call(this,aO);aD=af.call(this,ax)-aw;aE={start:aM[aN],end:aM[aN+1]};e.create('<div class="timetable-scrollbarItem"></div>').append(p.call(aE,aA.template).addClass("timetable-itemContent")).css(az.pos,aw).css(az.length,aD).appendTo(aQ);}this._labelsHighlight=aQ.clone().addClass("timetable-scrollbarLabelsHighlight");u(this.slider,"change",av,this);u(this.slider,"slideStart",au,this);u(this.slider,"slideStop",aq,this);ay.prepend(aQ).prepend(this._labelsHighlight);this._sliderHandle=this.slider.element.get("div.slider-handle");this._handleLength=this._sliderHandle[az.length]();at.call(this);};ao.prototype={moveToPosition:function(aw){this._ignoreChange=true;this.slider.val((this._timetable._opts.vertical?-1:1)*aw);this._ignoreChange=false;at.call(this);}};})();})();}});
/*@end @*/
